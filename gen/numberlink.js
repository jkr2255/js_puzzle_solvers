!function t(n,r,e){function o(a,u){if(!r[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};n[a][0].call(l.exports,function(t){var r=n[a][1][t];return o(r?r:t)},l,l.exports,t,n,r,e)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(t,n){function r(t){var n=t?t.length:0;return n?t[n-1]:void 0}n.exports=r},{}],2:[function(t,n){n.exports=t("./forEach")},{"./forEach":4}],3:[function(t,n){function r(t,n,r){var u=a(t)?e:i;return n=o(n,r,3),u(t,n)}var e=t("../internal/arrayFilter"),o=t("../internal/baseCallback"),i=t("../internal/baseFilter"),a=t("../lang/isArray");n.exports=r},{"../internal/arrayFilter":7,"../internal/baseCallback":10,"../internal/baseFilter":12,"../lang/isArray":46}],4:[function(t,n){var r=t("../internal/arrayEach"),e=t("../internal/baseEach"),o=t("../internal/createForEach"),i=o(r,e);n.exports=i},{"../internal/arrayEach":6,"../internal/baseEach":11,"../internal/createForEach":29}],5:[function(t,n){function r(t,n,r){var u=a(t)?e:i;return n=o(n,r,3),u(t,n)}var e=t("../internal/arrayMap"),o=t("../internal/baseCallback"),i=t("../internal/baseMap"),a=t("../lang/isArray");n.exports=r},{"../internal/arrayMap":8,"../internal/baseCallback":10,"../internal/baseMap":19,"../lang/isArray":46}],6:[function(t,n){function r(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}n.exports=r},{}],7:[function(t,n){function r(t,n){for(var r=-1,e=t.length,o=-1,i=[];++r<e;){var a=t[r];n(a,r,t)&&(i[++o]=a)}return i}n.exports=r},{}],8:[function(t,n){function r(t,n){for(var r=-1,e=t.length,o=Array(e);++r<e;)o[r]=n(t[r],r,t);return o}n.exports=r},{}],9:[function(t,n){function r(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}n.exports=r},{}],10:[function(t,n){function r(t,n,r){var c=typeof t;return"function"==c?void 0===n?t:i(t,n,r):null==t?a:"object"==c?e(t):void 0===n?u(t):o(t,n)}var e=t("./baseMatches"),o=t("./baseMatchesProperty"),i=t("./bindCallback"),a=t("../utility/identity"),u=t("../utility/property");n.exports=r},{"../utility/identity":54,"../utility/property":55,"./baseMatches":20,"./baseMatchesProperty":21,"./bindCallback":26}],11:[function(t,n){var r=t("./baseForOwn"),e=t("./createBaseEach"),o=e(r);n.exports=o},{"./baseForOwn":14,"./createBaseEach":27}],12:[function(t,n){function r(t,n){var r=[];return e(t,function(t,e,o){n(t,e,o)&&r.push(t)}),r}var e=t("./baseEach");n.exports=r},{"./baseEach":11}],13:[function(t,n){var r=t("./createBaseFor"),e=r();n.exports=e},{"./createBaseFor":28}],14:[function(t,n){function r(t,n){return e(t,n,o)}var e=t("./baseFor"),o=t("../object/keys");n.exports=r},{"../object/keys":51,"./baseFor":13}],15:[function(t,n){function r(t,n,r){if(null!=t){void 0!==r&&r in e(t)&&(n=[r]);for(var o=0,i=n.length;null!=t&&i>o;)t=t[n[o++]];return o&&o==i?t:void 0}}var e=t("./toObject");n.exports=r},{"./toObject":43}],16:[function(t,n){function r(t,n,a,u,c,s){return t===n?!0:null==t||null==n||!o(t)&&!i(n)?t!==t&&n!==n:e(t,n,r,a,u,c,s)}var e=t("./baseIsEqualDeep"),o=t("../lang/isObject"),i=t("./isObjectLike");n.exports=r},{"../lang/isObject":49,"./baseIsEqualDeep":17,"./isObjectLike":40}],17:[function(t,n){function r(t,n,r,f,v,b,y){var d=a(t),g=a(n),j=s,x=s;d||(j=h.call(t),j==c?j=l:j!=l&&(d=u(t))),g||(x=h.call(n),x==c?x=l:x!=l&&(g=u(n)));var m=j==l,w=x==l,O=j==x;if(O&&!d&&!m)return o(t,n,j);if(!v){var A=m&&p.call(t,"__wrapped__"),k=w&&p.call(n,"__wrapped__");if(A||k)return r(A?t.value():t,k?n.value():n,f,v,b,y)}if(!O)return!1;b||(b=[]),y||(y=[]);for(var _=b.length;_--;)if(b[_]==t)return y[_]==n;b.push(t),y.push(n);var L=(d?e:i)(t,n,r,f,v,b,y);return b.pop(),y.pop(),L}var e=t("./equalArrays"),o=t("./equalByTag"),i=t("./equalObjects"),a=t("../lang/isArray"),u=t("../lang/isTypedArray"),c="[object Arguments]",s="[object Array]",l="[object Object]",f=Object.prototype,p=f.hasOwnProperty,h=f.toString;n.exports=r},{"../lang/isArray":46,"../lang/isTypedArray":50,"./equalArrays":30,"./equalByTag":31,"./equalObjects":32}],18:[function(t,n){function r(t,n,r){var i=n.length,a=i,u=!r;if(null==t)return!a;for(t=o(t);i--;){var c=n[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){c=n[i];var s=c[0],l=t[s],f=c[1];if(u&&c[2]){if(void 0===l&&!(s in t))return!1}else{var p=r?r(l,f,s):void 0;if(!(void 0===p?e(f,l,r,!0):p))return!1}}return!0}var e=t("./baseIsEqual"),o=t("./toObject");n.exports=r},{"./baseIsEqual":16,"./toObject":43}],19:[function(t,n){function r(t,n){var r=-1,i=o(t)?Array(t.length):[];return e(t,function(t,e,o){i[++r]=n(t,e,o)}),i}var e=t("./baseEach"),o=t("./isArrayLike");n.exports=r},{"./baseEach":11,"./isArrayLike":36}],20:[function(t,n){function r(t){var n=o(t);if(1==n.length&&n[0][2]){var r=n[0][0],a=n[0][1];return function(t){return null==t?!1:t[r]===a&&(void 0!==a||r in i(t))}}return function(t){return e(t,n)}}var e=t("./baseIsMatch"),o=t("./getMatchData"),i=t("./toObject");n.exports=r},{"./baseIsMatch":18,"./getMatchData":34,"./toObject":43}],21:[function(t,n){function r(t,n){var r=a(t),p=u(t)&&c(n),h=t+"";return t=f(t),function(a){if(null==a)return!1;var u=h;if(a=l(a),!(!r&&p||u in a)){if(a=1==t.length?a:e(a,i(t,0,-1)),null==a)return!1;u=s(t),a=l(a)}return a[u]===n?void 0!==n||u in a:o(n,a[u],void 0,!0)}}var e=t("./baseGet"),o=t("./baseIsEqual"),i=t("./baseSlice"),a=t("../lang/isArray"),u=t("./isKey"),c=t("./isStrictComparable"),s=t("../array/last"),l=t("./toObject"),f=t("./toPath");n.exports=r},{"../array/last":1,"../lang/isArray":46,"./baseGet":15,"./baseIsEqual":16,"./baseSlice":24,"./isKey":38,"./isStrictComparable":41,"./toObject":43,"./toPath":44}],22:[function(t,n){function r(t){return function(n){return null==n?void 0:n[t]}}n.exports=r},{}],23:[function(t,n){function r(t){var n=t+"";return t=o(t),function(r){return e(r,t,n)}}var e=t("./baseGet"),o=t("./toPath");n.exports=r},{"./baseGet":15,"./toPath":44}],24:[function(t,n){function r(t,n,r){var e=-1,o=t.length;n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r=void 0===r||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var i=Array(o);++e<o;)i[e]=t[e+n];return i}n.exports=r},{}],25:[function(t,n){function r(t){return null==t?"":t+""}n.exports=r},{}],26:[function(t,n){function r(t,n,r){if("function"!=typeof t)return e;if(void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,o){return t.call(n,r,e,o)};case 4:return function(r,e,o,i){return t.call(n,r,e,o,i)};case 5:return function(r,e,o,i,a){return t.call(n,r,e,o,i,a)}}return function(){return t.apply(n,arguments)}}var e=t("../utility/identity");n.exports=r},{"../utility/identity":54}],27:[function(t,n){function r(t,n){return function(r,a){var u=r?e(r):0;if(!o(u))return t(r,a);for(var c=n?u:-1,s=i(r);(n?c--:++c<u)&&a(s[c],c,s)!==!1;);return r}}var e=t("./getLength"),o=t("./isLength"),i=t("./toObject");n.exports=r},{"./getLength":33,"./isLength":39,"./toObject":43}],28:[function(t,n){function r(t){return function(n,r,o){for(var i=e(n),a=o(n),u=a.length,c=t?u:-1;t?c--:++c<u;){var s=a[c];if(r(i[s],s,i)===!1)break}return n}}var e=t("./toObject");n.exports=r},{"./toObject":43}],29:[function(t,n){function r(t,n){return function(r,i,a){return"function"==typeof i&&void 0===a&&o(r)?t(r,i):n(r,e(i,a,3))}}var e=t("./bindCallback"),o=t("../lang/isArray");n.exports=r},{"../lang/isArray":46,"./bindCallback":26}],30:[function(t,n){function r(t,n,r,o,i,a,u){var c=-1,s=t.length,l=n.length;if(s!=l&&!(i&&l>s))return!1;for(;++c<s;){var f=t[c],p=n[c],h=o?o(i?p:f,i?f:p,c):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!e(n,function(t){return f===t||r(f,t,o,i,a,u)}))return!1}else if(f!==p&&!r(f,p,o,i,a,u))return!1}return!0}var e=t("./arraySome");n.exports=r},{"./arraySome":9}],31:[function(t,n){function r(t,n,r){switch(r){case e:case o:return+t==+n;case i:return t.name==n.name&&t.message==n.message;case a:return t!=+t?n!=+n:t==+n;case u:case c:return t==n+""}return!1}var e="[object Boolean]",o="[object Date]",i="[object Error]",a="[object Number]",u="[object RegExp]",c="[object String]";n.exports=r},{}],32:[function(t,n){function r(t,n,r,o,a,u,c){var s=e(t),l=s.length,f=e(n),p=f.length;if(l!=p&&!a)return!1;for(var h=l;h--;){var v=s[h];if(!(a?v in n:i.call(n,v)))return!1}for(var b=a;++h<l;){v=s[h];var y=t[v],d=n[v],g=o?o(a?d:y,a?y:d,v):void 0;if(!(void 0===g?r(y,d,o,a,u,c):g))return!1;b||(b="constructor"==v)}if(!b){var j=t.constructor,x=n.constructor;if(j!=x&&"constructor"in t&&"constructor"in n&&!("function"==typeof j&&j instanceof j&&"function"==typeof x&&x instanceof x))return!1}return!0}var e=t("../object/keys"),o=Object.prototype,i=o.hasOwnProperty;n.exports=r},{"../object/keys":51}],33:[function(t,n){var r=t("./baseProperty"),e=r("length");n.exports=e},{"./baseProperty":22}],34:[function(t,n){function r(t){for(var n=o(t),r=n.length;r--;)n[r][2]=e(n[r][1]);return n}var e=t("./isStrictComparable"),o=t("../object/pairs");n.exports=r},{"../object/pairs":53,"./isStrictComparable":41}],35:[function(t,n){function r(t,n){var r=null==t?void 0:t[n];return e(r)?r:void 0}var e=t("../lang/isNative");n.exports=r},{"../lang/isNative":48}],36:[function(t,n){function r(t){return null!=t&&o(e(t))}var e=t("./getLength"),o=t("./isLength");n.exports=r},{"./getLength":33,"./isLength":39}],37:[function(t,n){function r(t,n){return t="number"==typeof t||e.test(t)?+t:-1,n=null==n?o:n,t>-1&&t%1==0&&n>t}var e=/^\d+$/,o=9007199254740991;n.exports=r},{}],38:[function(t,n){function r(t,n){var r=typeof t;if("string"==r&&a.test(t)||"number"==r)return!0;if(e(t))return!1;var u=!i.test(t);return u||null!=n&&t in o(n)}var e=t("../lang/isArray"),o=t("./toObject"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=r},{"../lang/isArray":46,"./toObject":43}],39:[function(t,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&e>=t}var e=9007199254740991;n.exports=r},{}],40:[function(t,n){function r(t){return!!t&&"object"==typeof t}n.exports=r},{}],41:[function(t,n){function r(t){return t===t&&!e(t)}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":49}],42:[function(t,n){function r(t){for(var n=u(t),r=n.length,c=r&&t.length,l=!!c&&a(c)&&(o(t)||e(t)),f=-1,p=[];++f<r;){var h=n[f];(l&&i(h,c)||s.call(t,h))&&p.push(h)}return p}var e=t("../lang/isArguments"),o=t("../lang/isArray"),i=t("./isIndex"),a=t("./isLength"),u=t("../object/keysIn"),c=Object.prototype,s=c.hasOwnProperty;n.exports=r},{"../lang/isArguments":45,"../lang/isArray":46,"../object/keysIn":52,"./isIndex":37,"./isLength":39}],43:[function(t,n){function r(t){return e(t)?t:Object(t)}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":49}],44:[function(t,n){function r(t){if(o(t))return t;var n=[];return e(t).replace(i,function(t,r,e,o){n.push(e?o.replace(a,"$1"):r||t)}),n}var e=t("./baseToString"),o=t("../lang/isArray"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;n.exports=r},{"../lang/isArray":46,"./baseToString":25}],45:[function(t,n){function r(t){return o(t)&&e(t)&&a.call(t,"callee")&&!u.call(t,"callee")}var e=t("../internal/isArrayLike"),o=t("../internal/isObjectLike"),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable;n.exports=r},{"../internal/isArrayLike":36,"../internal/isObjectLike":40}],46:[function(t,n){var r=t("../internal/getNative"),e=t("../internal/isLength"),o=t("../internal/isObjectLike"),i="[object Array]",a=Object.prototype,u=a.toString,c=r(Array,"isArray"),s=c||function(t){return o(t)&&e(t.length)&&u.call(t)==i};n.exports=s},{"../internal/getNative":35,"../internal/isLength":39,"../internal/isObjectLike":40}],47:[function(t,n){function r(t){return e(t)&&a.call(t)==o}var e=t("./isObject"),o="[object Function]",i=Object.prototype,a=i.toString;n.exports=r},{"./isObject":49}],48:[function(t,n){function r(t){return null==t?!1:e(t)?s.test(u.call(t)):o(t)&&i.test(t)}var e=t("./isFunction"),o=t("../internal/isObjectLike"),i=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,c=a.hasOwnProperty,s=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=r},{"../internal/isObjectLike":40,"./isFunction":47}],49:[function(t,n){function r(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=r},{}],50:[function(t,n){function r(t){return o(t)&&e(t.length)&&!!S[C.call(t)]}var e=t("../internal/isLength"),o=t("../internal/isObjectLike"),i="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",s="[object Error]",l="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",v="[object RegExp]",b="[object Set]",y="[object String]",d="[object WeakMap]",g="[object ArrayBuffer]",j="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",L="[object Uint32Array]",S={};S[j]=S[x]=S[m]=S[w]=S[O]=S[A]=S[k]=S[_]=S[L]=!0,S[i]=S[a]=S[g]=S[u]=S[c]=S[s]=S[l]=S[f]=S[p]=S[h]=S[v]=S[b]=S[y]=S[d]=!1;var E=Object.prototype,C=E.toString;n.exports=r},{"../internal/isLength":39,"../internal/isObjectLike":40}],51:[function(t,n){var r=t("../internal/getNative"),e=t("../internal/isArrayLike"),o=t("../lang/isObject"),i=t("../internal/shimKeys"),a=r(Object,"keys"),u=a?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&e(t)?i(t):o(t)?a(t):[]}:i;n.exports=u},{"../internal/getNative":35,"../internal/isArrayLike":36,"../internal/shimKeys":42,"../lang/isObject":49}],52:[function(t,n){function r(t){if(null==t)return[];u(t)||(t=Object(t));var n=t.length;n=n&&a(n)&&(o(t)||e(t))&&n||0;for(var r=t.constructor,c=-1,l="function"==typeof r&&r.prototype===t,f=Array(n),p=n>0;++c<n;)f[c]=c+"";for(var h in t)p&&i(h,n)||"constructor"==h&&(l||!s.call(t,h))||f.push(h);return f}var e=t("../lang/isArguments"),o=t("../lang/isArray"),i=t("../internal/isIndex"),a=t("../internal/isLength"),u=t("../lang/isObject"),c=Object.prototype,s=c.hasOwnProperty;n.exports=r},{"../internal/isIndex":37,"../internal/isLength":39,"../lang/isArguments":45,"../lang/isArray":46,"../lang/isObject":49}],53:[function(t,n){function r(t){t=o(t);for(var n=-1,r=e(t),i=r.length,a=Array(i);++n<i;){var u=r[n];a[n]=[u,t[u]]}return a}var e=t("./keys"),o=t("../internal/toObject");n.exports=r},{"../internal/toObject":43,"./keys":51}],54:[function(t,n){function r(t){return t}n.exports=r},{}],55:[function(t,n){function r(t){return i(t)?e(t):o(t)}var e=t("../internal/baseProperty"),o=t("../internal/basePropertyDeep"),i=t("../internal/isKey");n.exports=r},{"../internal/baseProperty":22,"../internal/basePropertyDeep":23,"../internal/isKey":38}],56:[function(t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=t("lodash/collection/map"),o=t("lodash/collection/filter");n.exports=function i(t,n){var a=[];if(n=+n,0>n||n>t.length)return[];if(0==n)return[[]];if(1==n)return e(t,function(t){return[t]});if(n==t.length-1){var u=function(){var n=void 0;for(n=0;n<t.length;++n)a.push(o(t,function(t,r){return r!==n}));return{v:a}}();if("object"===("undefined"==typeof u?"undefined":r(u)))return u.v}var c=[].concat(t);if(n==t.length)return[c];for(var s,l;;){if(c.length===n){a.push(c);break}s=[c.pop()],l=i(c,n-1);var f=void 0;for(f=0;f<l.length;++f)a.push(l[f].concat(s))}return a}},{"lodash/collection/filter":3,"lodash/collection/map":5}],57:[function(t,n){"use strict";n.exports="function"==typeof Worker&&"function"==typeof Int32Array},{}],58:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t){return Math.round(1e6*t)/1e6}var o;o=performance&&performance.now?function(){return performance.now()}:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},n.exports=function(){function t(n){r(this,t),this.output=n}return t.prototype.start=function(){this.start_time=this.lap_time=o()},t.prototype.lap=function(t){var n=o();this.output(t+": "+e(n-this.lap_time)+" ms"),this.lap_time=n},t.prototype.finish=function(t){t&&this.lap(t),this.output("合計時間: "+e(this.lap_time-this.start_time)+" ms")},t}()},{}],59:[function(t,n){(function(t){var r;r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,n.exports=function(){function t(t){this.$field=r(t),this.values=[],this.$field.on("click.field","td",function(t){return function(n){var e,o,i,a,u;n.preventDefault(),t.changeDisabled||r.isFunction(t.changeFunc)&&(o=n.target.dataset.pos.split("_"),a=o[0],u=o[1],i=t.getValue(a,u),e=t.changeFunc(i,!0,a,u),e!==!1&&t.setValue(a,u,e))}}(this)),this.$field.on("contextmenu.field","td",function(t){return function(n){var e,o,i,a,u;n.preventDefault(),t.changeDisabled||r.isFunction(t.changeFunc)&&(o=n.target.dataset.pos.split("_"),a=o[0],u=o[1],i=t.getValue(a,u),e=t.changeFunc(i,!1,a,u),e!==!1&&t.setValue(a,u,e))}}(this))}return t.prototype.width=0,t.prototype.height=0,t.prototype.changeFunc=null,t.prototype.changeDisabled=!1,t.prototype.setSize=function(t,n){var e,o,i,a,u,c,s,l;for(this.width=t,this.height=n,this.values=[],this.$field.empty(),l=i=0,u=n;u>=0?u>i:i>u;l=u>=0?++i:--i)for(o=r("<tr />"),this.$field.append(o),this.values.push([]),s=a=0,c=t;c>=0?c>a:a>c;s=c>=0?++a:--a)e=r("<td />"),e.attr("data-pos",s+"_"+l).appendTo(o),this.values[l].push("");return this},t.prototype.setValue=function(t,n,r){return this.$field.find("td[data-pos='"+t+"_"+n+"']").text(r),this.values[n][t]=r,this},t.prototype.getValue=function(t,n){return this.values[n][t]},t.prototype.eachCell=function(t){var n,r,e,o,i,a;for(a=n=0,e=this.height;e>=0?e>n:n>e;a=e>=0?++n:--n)for(i=r=0,o=this.width;o>=0?o>r:r>o;i=o>=0?++r:--r)if(t(this.values[a][i],i,a)===!1)return!1;return!0},t}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t){var n=[],r="undefined"==typeof t?"undefined":o(t);if("string"===r)n=t.split(" ");else if("number"===r)n=[t];else{if("[object Array]"!==i.call(t))throw new TypeError;n=t.slice()}for(var e=0;e<n.length;++e){var a=+n[e];if(n[e]=a,(0|a)!==a)throw new RangeError("Only integers are accepted for constraints.")}n.sort(function(t,n){return 0===t&&0===n?0:0===t?1:0===n?-1:Math.abs(t)-Math.abs(n)});for(var u=0,c=0;c<n.length;++c)if(u<Math.abs(n[c])&&(u=Math.abs(n[c])),c<n.length-1&&0!==n[c]&&n[c]+n[c+1]===0)return{text:"",maxVar:0};for(;0===n[n.length-1];)n.pop();return n.push(0),{text:n.join(" "),maxVar:u}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.prototype.toString,a=function(){function t(){r(this,t),this.clear()}return t.prototype.clear=function(){this.textConstraints=[],this.maxVar=0},t.prototype.add=function(t){var n=e(t);return n.maxVar>0&&(this.textConstraints.push(n.text),this.maxVar<n.maxVar&&(this.maxVar=n.maxVar)),this},t.prototype.length=function(){return this.textConstraints.length},t.prototype.merge=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];for(var e=0;e<n.length;++e){for(var o=0;o<n[e].textConstraints.length;++o)this.textConstraints.push(n[e].textConstraints[o]);this.maxVar<n[e].maxVar&&(this.maxVar=n[e].maxVar)}return this},t.prototype.toDIMACS=function(){return"p cnf "+this.maxVar+" "+this.textConstraints.length+"\n"+this.textConstraints.join("\n")},t.merge=function(){var n=new t;return n.merge.apply(n,arguments),n},t}();n.exports=a},{}],61:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var e=t("./sat_constraints"),o=t("lodash/collection/map"),i=function(){function t(){r(this,t)}return t.prototype.loadWorker=function(){this.worker=new Worker("gen/minisat_worker.js")},t.prototype.setListener=function(t){this.worker||this.loadWorker(),this.listener&&this.worker.removeEventListener("message",this.listener,!0),this.listener=function(n){var r=n.data.result,e=null,i="ERROR";r&&(e=r.split(" "),i=e.shift(),e=o(e,function(t){return+t})),t(i,e,n.data.stdout,n.data.stderr)},this.worker.addEventListener("message",this.listener,!0)},t.prototype.solve=function(t,n){var r=t.toDIMACS();this.setListener(n),this.worker.postMessage(r)},t.prototype.solve_loop=function(t,n){var r=this;this.setListener(function(o,i,a,u){var c=n(t,o,i,a,u);if(c!==!1){if(c instanceof e)return t=c,void r.worker.postMessage(c.toDIMACS());throw new TypeError}}),this.worker.postMessage(t.toDIMACS())},t}();n.exports=i},{"./sat_constraints":60,"lodash/collection/map":5}],62:[function(t){(function(n){"use strict";var r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,e=t("./lib/puzzle_field"),o=t("./lib/environment_check"),i=t("./lib/lap_timer"),a=t("./lib/sat_constraints"),u=t("lodash/collection/each"),c=t("./lib/sat_solver"),s=t("lodash/collection/filter"),l=t("lodash/collection/map"),f=t("./lib/combination");r(function(){if(!o)return void alert("この環境ではJavaScriptの機能が不足していて、実行できません。");var t=new e("#field"),n=[0],p=new c;p.loadWorker(),r("#make_field_btn").click(function(){var e=parseInt(r("#width").val(),10),o=parseInt(r("#height").val(),10);return e>=2&&o>=2?(t.setSize(e,o),void(n=[0])):void alert("2×2以上で設定してください。")}),r("#make_field_btn").click(),t.changeFunc=function(t,r){var e=+t;if(0!==e||r){var o=r?1:-1;for(n[e]-=1;e+=o,2===n[e]&&e>0;);return n[e]||(n[e]=0),n[e]+=1,e||""}};var h=r("#indicator"),v=new i(function(t){return r("<p />").text(t).appendTo(h)});r("#solve_btn").click(function(){function n(n,r,e){return(r*t.width+n)*i+e}function e(r,e,o){var i=[];return r>0&&i.push(n(r-1,e,o)),e>0&&i.push(n(r,e-1,o)),r<t.width-1&&i.push(n(r+1,e,o)),e<t.height-1&&i.push(n(r,e+1,o)),i}v.start();var o={},i=0;if(t.eachCell(function(t){t=+t,t&&(o[t]||(o[t]=0),o[t]+=1,t>i&&(i=t))}),0===i)return void alert("数字が1つもないので終了します。");for(var c in o){var h=o[c];if(2!==h)return void alert("数字は2つずつ入れてください。")}v.lap("条件チェック");var b=new a,y=new a;t.eachCell(function(t,r,o){var a=+t;if(a){for(var c=e(r,o,a),s=1;i>=s;++s){var l=n(r,o,s);s!=a&&(l=-l),b.add(l)}b.add(c);var p=f(c,2);u(p,function(t){return void b.add([-t[0],-t[1]])})}else!function(){var t=n(r,o,1),c=void 0,s=[];for(c=0;i>c;++c)s.push(t+c);for(u(f(s,2),function(t){return void b.add([-t[0],-t[1]])}),y.add(s),a=1;i>=a;++a){var l=e(r,o,a),p=f(l,3);switch(u(p,function(t){return void b.add([-t[0],-t[1],-t[2]])}),t=n(r,o,a),l.length){case 3:p=f(l,2);case 4:u(p,function(n){return void b.add([-t].concat(n))});break;case 2:b.add([-t,l[0]]),b.add([-t,l[1]])}}}()}),v.lap("立式");var d=b;r("#initial_kansai").is(":checked")||(d=a.merge(b,y)),p.solve(d,function(n,e){if(v.lap("初回ソルバー"),"SAT"!==n)return void alert("解が見つかりませんでした。");var o=s(e,function(t){return t>0}),a=[],u=!1,c=void 0,f=void 0,h=void 0,y=void 0,d=void 0;for(o.length<t.width*t.height&&(alert("関西解です。"),u=!0),f=0;f<t.height;++f)a.push([]);for(h=0;h<o.length;++h)y=(o[h]-1)%i+1,f=Math.floor((o[h]-y)/i/t.width),c=(o[h]-y)/i-f*t.width,a[f][c]=y;var g={};for(g[3]="│",g[5]="┌",g[6]="└",g[9]="┐",g[10]="┘",g[12]="─",f=0,f=0;f<t.height;++f)for(c=0;c<t.width;++c)y=a[f][c],y?(d=0,c>0&&a[f][c-1]==y&&(d+=8),c<t.width-1&&a[f][c+1]==y&&(d+=4),f>0&&a[f-1][c]==y&&(d+=2),f<t.height-1&&a[f+1][c]==y&&(d+=1),g[d]&&t.setValue(c,f,g[d])):t.setValue(c,f,"");return console.log(a),v.lap("出力"),u?void v.finish():void(r("#bypass_unique").is(":checked")||(b.add(l(o,function(t){return-t})),p.solve(b,function(t){v.finish("別解チェック"),alert("SAT"===t?"別解があります。":"一意解です。")})))})})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/combination":56,"./lib/environment_check":57,"./lib/lap_timer":58,"./lib/puzzle_field":59,"./lib/sat_constraints":60,"./lib/sat_solver":61,"lodash/collection/each":2,"lodash/collection/filter":3,"lodash/collection/map":5}]},{},[62]);