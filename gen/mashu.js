!function t(n,r,e){function i(a,u){if(!r[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};n[a][0].call(l.exports,function(t){var r=n[a][1][t];return i(r?r:t)},l,l.exports,t,n,r,e)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(t,n){function r(t,n,r,o){var a=t?t.length:0;return a?(r&&"number"!=typeof r&&i(t,n,r)&&(r=0,o=a),e(t,n,r,o)):[]}var e=t("../internal/baseFill"),i=t("../internal/isIterateeCall");n.exports=r},{"../internal/baseFill":13,"../internal/isIterateeCall":40}],2:[function(t,n){function r(t){var n=t?t.length:0;return n?t[n-1]:void 0}n.exports=r},{}],3:[function(t,n){n.exports=t("./forEach")},{"./forEach":5}],4:[function(t,n){function r(t,n,r){var u=a(t)?e:o;return n=i(n,r,3),u(t,n)}var e=t("../internal/arrayFilter"),i=t("../internal/baseCallback"),o=t("../internal/baseFilter"),a=t("../lang/isArray");n.exports=r},{"../internal/arrayFilter":8,"../internal/baseCallback":11,"../internal/baseFilter":14,"../lang/isArray":49}],5:[function(t,n){var r=t("../internal/arrayEach"),e=t("../internal/baseEach"),i=t("../internal/createForEach"),o=i(r,e);n.exports=o},{"../internal/arrayEach":7,"../internal/baseEach":12,"../internal/createForEach":31}],6:[function(t,n){function r(t,n,r){var u=a(t)?e:o;return n=i(n,r,3),u(t,n)}var e=t("../internal/arrayMap"),i=t("../internal/baseCallback"),o=t("../internal/baseMap"),a=t("../lang/isArray");n.exports=r},{"../internal/arrayMap":9,"../internal/baseCallback":11,"../internal/baseMap":21,"../lang/isArray":49}],7:[function(t,n){function r(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}n.exports=r},{}],8:[function(t,n){function r(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;){var a=t[r];n(a,r,t)&&(o[++i]=a)}return o}n.exports=r},{}],9:[function(t,n){function r(t,n){for(var r=-1,e=t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}n.exports=r},{}],10:[function(t,n){function r(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}n.exports=r},{}],11:[function(t,n){function r(t,n,r){var s=typeof t;return"function"==s?void 0===n?t:o(t,n,r):null==t?a:"object"==s?e(t):void 0===n?u(t):i(t,n)}var e=t("./baseMatches"),i=t("./baseMatchesProperty"),o=t("./bindCallback"),a=t("../utility/identity"),u=t("../utility/property");n.exports=r},{"../utility/identity":57,"../utility/property":58,"./baseMatches":22,"./baseMatchesProperty":23,"./bindCallback":28}],12:[function(t,n){var r=t("./baseForOwn"),e=t("./createBaseEach"),i=e(r);n.exports=i},{"./baseForOwn":16,"./createBaseEach":29}],13:[function(t,n){function r(t,n,r,e){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),e=void 0===e||e>i?i:+e||0,0>e&&(e+=i),i=r>e?0:e>>>0,r>>>=0;i>r;)t[r++]=n;return t}n.exports=r},{}],14:[function(t,n){function r(t,n){var r=[];return e(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}var e=t("./baseEach");n.exports=r},{"./baseEach":12}],15:[function(t,n){var r=t("./createBaseFor"),e=r();n.exports=e},{"./createBaseFor":30}],16:[function(t,n){function r(t,n){return e(t,n,i)}var e=t("./baseFor"),i=t("../object/keys");n.exports=r},{"../object/keys":54,"./baseFor":15}],17:[function(t,n){function r(t,n,r){if(null!=t){void 0!==r&&r in e(t)&&(n=[r]);for(var i=0,o=n.length;null!=t&&o>i;)t=t[n[i++]];return i&&i==o?t:void 0}}var e=t("./toObject");n.exports=r},{"./toObject":46}],18:[function(t,n){function r(t,n,a,u,s,c){return t===n?!0:null==t||null==n||!i(t)&&!o(n)?t!==t&&n!==n:e(t,n,r,a,u,s,c)}var e=t("./baseIsEqualDeep"),i=t("../lang/isObject"),o=t("./isObjectLike");n.exports=r},{"../lang/isObject":52,"./baseIsEqualDeep":19,"./isObjectLike":43}],19:[function(t,n){function r(t,n,r,f,v,b,y){var d=a(t),g=a(n),j=c,x=c;d||(j=h.call(t),j==s?j=l:j!=l&&(d=u(t))),g||(x=h.call(n),x==s?x=l:x!=l&&(g=u(n)));var m=j==l,w=x==l,O=j==x;if(O&&!d&&!m)return i(t,n,j);if(!v){var A=m&&p.call(t,"__wrapped__"),k=w&&p.call(n,"__wrapped__");if(A||k)return r(A?t.value():t,k?n.value():n,f,v,b,y)}if(!O)return!1;b||(b=[]),y||(y=[]);for(var _=b.length;_--;)if(b[_]==t)return y[_]==n;b.push(t),y.push(n);var E=(d?e:o)(t,n,r,f,v,b,y);return b.pop(),y.pop(),E}var e=t("./equalArrays"),i=t("./equalByTag"),o=t("./equalObjects"),a=t("../lang/isArray"),u=t("../lang/isTypedArray"),s="[object Arguments]",c="[object Array]",l="[object Object]",f=Object.prototype,p=f.hasOwnProperty,h=f.toString;n.exports=r},{"../lang/isArray":49,"../lang/isTypedArray":53,"./equalArrays":32,"./equalByTag":33,"./equalObjects":34}],20:[function(t,n){function r(t,n,r){var o=n.length,a=o,u=!r;if(null==t)return!a;for(t=i(t);o--;){var s=n[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){s=n[o];var c=s[0],l=t[c],f=s[1];if(u&&s[2]){if(void 0===l&&!(c in t))return!1}else{var p=r?r(l,f,c):void 0;if(!(void 0===p?e(f,l,r,!0):p))return!1}}return!0}var e=t("./baseIsEqual"),i=t("./toObject");n.exports=r},{"./baseIsEqual":18,"./toObject":46}],21:[function(t,n){function r(t,n){var r=-1,o=i(t)?Array(t.length):[];return e(t,function(t,e,i){o[++r]=n(t,e,i)}),o}var e=t("./baseEach"),i=t("./isArrayLike");n.exports=r},{"./baseEach":12,"./isArrayLike":38}],22:[function(t,n){function r(t){var n=i(t);if(1==n.length&&n[0][2]){var r=n[0][0],a=n[0][1];return function(t){return null==t?!1:t[r]===a&&(void 0!==a||r in o(t))}}return function(t){return e(t,n)}}var e=t("./baseIsMatch"),i=t("./getMatchData"),o=t("./toObject");n.exports=r},{"./baseIsMatch":20,"./getMatchData":36,"./toObject":46}],23:[function(t,n){function r(t,n){var r=a(t),p=u(t)&&s(n),h=t+"";return t=f(t),function(a){if(null==a)return!1;var u=h;if(a=l(a),!(!r&&p||u in a)){if(a=1==t.length?a:e(a,o(t,0,-1)),null==a)return!1;u=c(t),a=l(a)}return a[u]===n?void 0!==n||u in a:i(n,a[u],void 0,!0)}}var e=t("./baseGet"),i=t("./baseIsEqual"),o=t("./baseSlice"),a=t("../lang/isArray"),u=t("./isKey"),s=t("./isStrictComparable"),c=t("../array/last"),l=t("./toObject"),f=t("./toPath");n.exports=r},{"../array/last":2,"../lang/isArray":49,"./baseGet":17,"./baseIsEqual":18,"./baseSlice":26,"./isKey":41,"./isStrictComparable":44,"./toObject":46,"./toPath":47}],24:[function(t,n){function r(t){return function(n){return null==n?void 0:n[t]}}n.exports=r},{}],25:[function(t,n){function r(t){var n=t+"";return t=i(t),function(r){return e(r,t,n)}}var e=t("./baseGet"),i=t("./toPath");n.exports=r},{"./baseGet":17,"./toPath":47}],26:[function(t,n){function r(t,n,r){var e=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=void 0===r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++e<i;)o[e]=t[e+n];return o}n.exports=r},{}],27:[function(t,n){function r(t){return null==t?"":t+""}n.exports=r},{}],28:[function(t,n){function r(t,n,r){if("function"!=typeof t)return e;if(void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,a){return t.call(n,r,e,i,o,a)}}return function(){return t.apply(n,arguments)}}var e=t("../utility/identity");n.exports=r},{"../utility/identity":57}],29:[function(t,n){function r(t,n){return function(r,a){var u=r?e(r):0;if(!i(u))return t(r,a);for(var s=n?u:-1,c=o(r);(n?s--:++s<u)&&a(c[s],s,c)!==!1;);return r}}var e=t("./getLength"),i=t("./isLength"),o=t("./toObject");n.exports=r},{"./getLength":35,"./isLength":42,"./toObject":46}],30:[function(t,n){function r(t){return function(n,r,i){for(var o=e(n),a=i(n),u=a.length,s=t?u:-1;t?s--:++s<u;){var c=a[s];if(r(o[c],c,o)===!1)break}return n}}var e=t("./toObject");n.exports=r},{"./toObject":46}],31:[function(t,n){function r(t,n){return function(r,o,a){return"function"==typeof o&&void 0===a&&i(r)?t(r,o):n(r,e(o,a,3))}}var e=t("./bindCallback"),i=t("../lang/isArray");n.exports=r},{"../lang/isArray":49,"./bindCallback":28}],32:[function(t,n){function r(t,n,r,i,o,a,u){var s=-1,c=t.length,l=n.length;if(c!=l&&!(o&&l>c))return!1;for(;++s<c;){var f=t[s],p=n[s],h=i?i(o?p:f,o?f:p,s):void 0;if(void 0!==h){if(h)continue;return!1}if(o){if(!e(n,function(t){return f===t||r(f,t,i,o,a,u)}))return!1}else if(f!==p&&!r(f,p,i,o,a,u))return!1}return!0}var e=t("./arraySome");n.exports=r},{"./arraySome":10}],33:[function(t,n){function r(t,n,r){switch(r){case e:case i:return+t==+n;case o:return t.name==n.name&&t.message==n.message;case a:return t!=+t?n!=+n:t==+n;case u:case s:return t==n+""}return!1}var e="[object Boolean]",i="[object Date]",o="[object Error]",a="[object Number]",u="[object RegExp]",s="[object String]";n.exports=r},{}],34:[function(t,n){function r(t,n,r,i,a,u,s){var c=e(t),l=c.length,f=e(n),p=f.length;if(l!=p&&!a)return!1;for(var h=l;h--;){var v=c[h];if(!(a?v in n:o.call(n,v)))return!1}for(var b=a;++h<l;){v=c[h];var y=t[v],d=n[v],g=i?i(a?d:y,a?y:d,v):void 0;if(!(void 0===g?r(y,d,i,a,u,s):g))return!1;b||(b="constructor"==v)}if(!b){var j=t.constructor,x=n.constructor;if(j!=x&&"constructor"in t&&"constructor"in n&&!("function"==typeof j&&j instanceof j&&"function"==typeof x&&x instanceof x))return!1}return!0}var e=t("../object/keys"),i=Object.prototype,o=i.hasOwnProperty;n.exports=r},{"../object/keys":54}],35:[function(t,n){var r=t("./baseProperty"),e=r("length");n.exports=e},{"./baseProperty":24}],36:[function(t,n){function r(t){for(var n=i(t),r=n.length;r--;)n[r][2]=e(n[r][1]);return n}var e=t("./isStrictComparable"),i=t("../object/pairs");n.exports=r},{"../object/pairs":56,"./isStrictComparable":44}],37:[function(t,n){function r(t,n){var r=null==t?void 0:t[n];return e(r)?r:void 0}var e=t("../lang/isNative");n.exports=r},{"../lang/isNative":51}],38:[function(t,n){function r(t){return null!=t&&i(e(t))}var e=t("./getLength"),i=t("./isLength");n.exports=r},{"./getLength":35,"./isLength":42}],39:[function(t,n){function r(t,n){return t="number"==typeof t||e.test(t)?+t:-1,n=null==n?i:n,t>-1&&t%1==0&&n>t}var e=/^\d+$/,i=9007199254740991;n.exports=r},{}],40:[function(t,n){function r(t,n,r){if(!o(r))return!1;var a=typeof n;if("number"==a?e(r)&&i(n,r.length):"string"==a&&n in r){var u=r[n];return t===t?t===u:u!==u}return!1}var e=t("./isArrayLike"),i=t("./isIndex"),o=t("../lang/isObject");n.exports=r},{"../lang/isObject":52,"./isArrayLike":38,"./isIndex":39}],41:[function(t,n){function r(t,n){var r=typeof t;if("string"==r&&a.test(t)||"number"==r)return!0;if(e(t))return!1;var u=!o.test(t);return u||null!=n&&t in i(n)}var e=t("../lang/isArray"),i=t("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=r},{"../lang/isArray":49,"./toObject":46}],42:[function(t,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&e>=t}var e=9007199254740991;n.exports=r},{}],43:[function(t,n){function r(t){return!!t&&"object"==typeof t}n.exports=r},{}],44:[function(t,n){function r(t){return t===t&&!e(t)}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":52}],45:[function(t,n){function r(t){for(var n=u(t),r=n.length,s=r&&t.length,l=!!s&&a(s)&&(i(t)||e(t)),f=-1,p=[];++f<r;){var h=n[f];(l&&o(h,s)||c.call(t,h))&&p.push(h)}return p}var e=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("./isIndex"),a=t("./isLength"),u=t("../object/keysIn"),s=Object.prototype,c=s.hasOwnProperty;n.exports=r},{"../lang/isArguments":48,"../lang/isArray":49,"../object/keysIn":55,"./isIndex":39,"./isLength":42}],46:[function(t,n){function r(t){return e(t)?t:Object(t)}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":52}],47:[function(t,n){function r(t){if(i(t))return t;var n=[];return e(t).replace(o,function(t,r,e,i){n.push(e?i.replace(a,"$1"):r||t)}),n}var e=t("./baseToString"),i=t("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;n.exports=r},{"../lang/isArray":49,"./baseToString":27}],48:[function(t,n){function r(t){return i(t)&&e(t)&&a.call(t,"callee")&&!u.call(t,"callee")}var e=t("../internal/isArrayLike"),i=t("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable;n.exports=r},{"../internal/isArrayLike":38,"../internal/isObjectLike":43}],49:[function(t,n){var r=t("../internal/getNative"),e=t("../internal/isLength"),i=t("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,u=a.toString,s=r(Array,"isArray"),c=s||function(t){return i(t)&&e(t.length)&&u.call(t)==o};n.exports=c},{"../internal/getNative":37,"../internal/isLength":42,"../internal/isObjectLike":43}],50:[function(t,n){function r(t){return e(t)&&a.call(t)==i}var e=t("./isObject"),i="[object Function]",o=Object.prototype,a=o.toString;n.exports=r},{"./isObject":52}],51:[function(t,n){function r(t){return null==t?!1:e(t)?c.test(u.call(t)):i(t)&&o.test(t)}var e=t("./isFunction"),i=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,s=a.hasOwnProperty,c=RegExp("^"+u.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=r},{"../internal/isObjectLike":43,"./isFunction":50}],52:[function(t,n){function r(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=r},{}],53:[function(t,n){function r(t){return i(t)&&e(t.length)&&!!L[C.call(t)]}var e=t("../internal/isLength"),i=t("../internal/isObjectLike"),o="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",v="[object RegExp]",b="[object Set]",y="[object String]",d="[object WeakMap]",g="[object ArrayBuffer]",j="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",L={};L[j]=L[x]=L[m]=L[w]=L[O]=L[A]=L[k]=L[_]=L[E]=!0,L[o]=L[a]=L[g]=L[u]=L[s]=L[c]=L[l]=L[f]=L[p]=L[h]=L[v]=L[b]=L[y]=L[d]=!1;var S=Object.prototype,C=S.toString;n.exports=r},{"../internal/isLength":42,"../internal/isObjectLike":43}],54:[function(t,n){var r=t("../internal/getNative"),e=t("../internal/isArrayLike"),i=t("../lang/isObject"),o=t("../internal/shimKeys"),a=r(Object,"keys"),u=a?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&e(t)?o(t):i(t)?a(t):[]}:o;n.exports=u},{"../internal/getNative":37,"../internal/isArrayLike":38,"../internal/shimKeys":45,"../lang/isObject":52}],55:[function(t,n){function r(t){if(null==t)return[];u(t)||(t=Object(t));var n=t.length;n=n&&a(n)&&(i(t)||e(t))&&n||0;for(var r=t.constructor,s=-1,l="function"==typeof r&&r.prototype===t,f=Array(n),p=n>0;++s<n;)f[s]=s+"";for(var h in t)p&&o(h,n)||"constructor"==h&&(l||!c.call(t,h))||f.push(h);return f}var e=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("../internal/isIndex"),a=t("../internal/isLength"),u=t("../lang/isObject"),s=Object.prototype,c=s.hasOwnProperty;n.exports=r},{"../internal/isIndex":39,"../internal/isLength":42,"../lang/isArguments":48,"../lang/isArray":49,"../lang/isObject":52}],56:[function(t,n){function r(t){t=i(t);for(var n=-1,r=e(t),o=r.length,a=Array(o);++n<o;){var u=r[n];a[n]=[u,t[u]]}return a}var e=t("./keys"),i=t("../internal/toObject");n.exports=r},{"../internal/toObject":46,"./keys":54}],57:[function(t,n){function r(t){return t}n.exports=r},{}],58:[function(t,n){function r(t){return o(t)?e(t):i(t)}var e=t("../internal/baseProperty"),i=t("../internal/basePropertyDeep"),o=t("../internal/isKey");n.exports=r},{"../internal/baseProperty":24,"../internal/basePropertyDeep":25,"../internal/isKey":41}],59:[function(t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=t("lodash/collection/map"),i=t("lodash/collection/filter");n.exports=function o(t,n){var a=[];if(n=+n,0>n||n>t.length)return[];if(0==n)return[[]];if(1==n)return e(t,function(t){return[t]});if(n==t.length-1){var u=function(){var n=void 0;for(n=0;n<t.length;++n)a.push(i(t,function(t,r){return r!==n}));return{v:a}}();if("object"===("undefined"==typeof u?"undefined":r(u)))return u.v}var s=[].concat(t);if(n==t.length)return[s];for(var c,l;;){if(s.length===n){a.push(s);break}c=[s.pop()],l=o(s,n-1);var f=void 0;for(f=0;f<l.length;++f)a.push(l[f].concat(c))}return a}},{"lodash/collection/filter":4,"lodash/collection/map":6}],60:[function(t,n){"use strict";n.exports="function"==typeof Worker&&"function"==typeof Int32Array},{}],61:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t){return Math.round(1e6*t)/1e6}var i;i=performance&&performance.now?function(){return performance.now()}:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},n.exports=function(){function t(n){r(this,t),this.output=n}return t.prototype.start=function(){this.start_time=this.lap_time=i()},t.prototype.lap=function(t){var n=i();this.output(t+": "+e(n-this.lap_time)+" ms"),this.lap_time=n},t.prototype.finish=function(t){t&&this.lap(t),this.output("合計時間: "+e(this.lap_time-this.start_time)+" ms")},t}()},{}],62:[function(t,n){(function(t){var r;r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,n.exports=function(){function t(t){this.$field=r(t),this.values=[],this.$field.on("click.field","td",function(t){return function(n){var e,i,o,a,u;n.preventDefault(),t.changeDisabled||r.isFunction(t.changeFunc)&&(i=n.target.dataset.pos.split("_"),a=i[0],u=i[1],o=t.getValue(a,u),e=t.changeFunc(o,!0,a,u),e!==!1&&t.setValue(a,u,e))}}(this)),this.$field.on("contextmenu.field","td",function(t){return function(n){var e,i,o,a,u;n.preventDefault(),t.changeDisabled||r.isFunction(t.changeFunc)&&(i=n.target.dataset.pos.split("_"),a=i[0],u=i[1],o=t.getValue(a,u),e=t.changeFunc(o,!1,a,u),e!==!1&&t.setValue(a,u,e))}}(this))}return t.prototype.width=0,t.prototype.height=0,t.prototype.changeFunc=null,t.prototype.changeDisabled=!1,t.prototype.setSize=function(t,n){var e,i,o,a,u,s,c,l;for(this.width=t,this.height=n,this.values=[],this.$field.empty(),l=o=0,u=n;u>=0?u>o:o>u;l=u>=0?++o:--o)for(i=r("<tr />"),this.$field.append(i),this.values.push([]),c=a=0,s=t;s>=0?s>a:a>s;c=s>=0?++a:--a)e=r("<td />"),e.attr("data-pos",c+"_"+l).appendTo(i),this.values[l].push("");return this},t.prototype.setValue=function(t,n,r){return this.$field.find("td[data-pos='"+t+"_"+n+"']").text(r),this.values[n][t]=r,this},t.prototype.getValue=function(t,n){return this.values[n][t]},t.prototype.eachCell=function(t){var n,r,e,i,o,a;for(a=n=0,e=this.height;e>=0?e>n:n>e;a=e>=0?++n:--n)for(o=r=0,i=this.width;i>=0?i>r:r>i;o=i>=0?++r:--r)if(t(this.values[a][o],o,a)===!1)return!1;return!0},t}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],63:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t){var n=[],r="undefined"==typeof t?"undefined":i(t);if("string"===r)n=t.split(" ");else if("number"===r)n=[t];else{if("[object Array]"!==o.call(t))throw new TypeError;n=t.slice()}for(var e=0;e<n.length;++e){var a=+n[e];if(n[e]=a,(0|a)!==a)throw new RangeError("Only integers are accepted for constraints.")}n.sort(function(t,n){return 0===t&&0===n?0:0===t?1:0===n?-1:Math.abs(t)-Math.abs(n)});for(var u=0,s=0;s<n.length;++s)if(u<Math.abs(n[s])&&(u=Math.abs(n[s])),s<n.length-1&&0!==n[s]&&n[s]+n[s+1]===0)return{text:"",maxVar:0};for(;0===n[n.length-1];)n.pop();return n.push(0),{text:n.join(" "),maxVar:u}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.prototype.toString,a=function(){function t(){r(this,t),this.clear()}return t.prototype.clear=function(){this.textConstraints=[],this.maxVar=0},t.prototype.add=function(t){var n=e(t);return n.maxVar>0&&(this.textConstraints.push(n.text),this.maxVar<n.maxVar&&(this.maxVar=n.maxVar)),this},t.prototype.length=function(){return this.textConstraints.length},t.prototype.merge=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];for(var e=0;e<n.length;++e){for(var i=0;i<n[e].textConstraints.length;++i)this.textConstraints.push(n[e].textConstraints[i]);this.maxVar<n[e].maxVar&&(this.maxVar=n[e].maxVar)}return this},t.prototype.toDIMACS=function(){return"p cnf "+this.maxVar+" "+this.textConstraints.length+"\n"+this.textConstraints.join("\n")},t.merge=function(){var n=new t;return n.merge.apply(n,arguments),n},t}();n.exports=a},{}],64:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var e=t("./sat_constraints"),i=t("lodash/collection/map"),o=function(){function t(){r(this,t)}return t.prototype.loadWorker=function(){this.worker=new Worker("gen/minisat_worker.js")},t.prototype.setListener=function(t){this.worker||this.loadWorker(),this.listener&&this.worker.removeEventListener("message",this.listener,!0),this.listener=function(n){var r=n.data.result,e=null,o="ERROR";r&&(e=r.split(" "),o=e.shift(),e=i(e,function(t){return+t})),t(o,e,n.data.stdout,n.data.stderr)},this.worker.addEventListener("message",this.listener,!0)},t.prototype.solve=function(t,n){var r=t.toDIMACS();this.setListener(n),this.worker.postMessage(r)},t.prototype.solve_loop=function(t,n){var r=this;this.setListener(function(i,o,a,u){var s=n(t,i,o,a,u);if(s!==!1){if(s instanceof e)return t=s,void r.worker.postMessage(s.toDIMACS());throw new TypeError}}),this.worker.postMessage(t.toDIMACS())},t}();n.exports=o},{"./sat_constraints":63,"lodash/collection/map":6}],65:[function(t,n){"use strict";var r,e,i;i=[],r="set_timeout_"+Math.random(),e=function(t){return i.push(t),window.postMessage(r,"*"),null},window.addEventListener("message",function(t){t.source===window&&t.data===r&&(t.stopPropagation(),i.length>0&&i.shift()())},!0),n.exports=e},{}],66:[function(t){(function(n){"use strict";var r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,e=t("./lib/puzzle_field"),i=t("./lib/environment_check"),o=t("./lib/lap_timer"),a=t("./lib/sat_constraints"),u=t("lodash/collection/each"),s=t("./lib/sat_solver"),c=t("lodash/collection/map"),l=t("./lib/set_immediate"),f=t("./lib/combination"),p=t("lodash/array/fill");r(function(){if(!i)return void alert("この環境ではJavaScriptの機能が不足していて、実行できません。");var t=new e("#field"),n=new s;n.loadWorker(),r("#make_field_btn").click(function(){var n=parseInt(r("#width").val(),10),e=parseInt(r("#height").val(),10);return n>=2&&e>=2?void t.setSize(n,e):void alert("2×2以上で設定してください。")}),r("#make_field_btn").click(),t.changeFunc=function(t,n){if(n)switch(t){case"○":return"●";case"●":return"";default:return"○"}else switch(t){case"○":return"";case"●":return"○";default:return"●"}};var h=r("#indicator"),v=new o(function(t){return r("<p />").text(t).appendTo(h)});r("#solve_btn").click(function(){function e(t,n,r){var e=+t;if(n=+n,0>t||t>=b||0>n||n>=y)throw new RangeError;if(r){if(n===y-1)throw new RangeError;return y*(b-1)+b*n+e+1}if(t===b-1)throw new RangeError;return(b-1)*n+e+1}function i(t){var n=0,r=0;if(t=+t,0>=t)throw new RangeError;return y*(b-1)>=t?(n=(t-1)%(b-1),r=(t-1-n)/(b-1),{x:n,y:r,is_vertical:!1}):(t-=y*(b-1),n=(t-1)%b,r=(t-1-n)/b,{x:n,y:r,is_vertical:!0})}function o(t,n){var r=[];return n>0&&r.push(e(t,n-1,!0)),y-1>n&&r.push(e(t,n,!0)),t>0&&r.push(e(t-1,n,!1)),b-1>t&&r.push(e(t,n,!1)),r}function s(n){l(function(){var r=[],e=void 0,o=void 0,a=void 0,u=void 0,s=8,c=4,l=2,f=1,h={3:"│",5:"┌",6:"└",9:"┐",10:"┘",12:"─"};for(a=0;y>a;++a)r.push(p(new Array(b),0));for(e in n){var v=i(e);o=v.x,a=v.y,u=v.is_vertical,u?(r[a][o]+=f,r[a+1][o]+=l):(r[a][o]+=c,r[a][o+1]+=s)}t.eachCell(function(n,e,i){"○"!==n&&"●"!==n&&t.setValue(e,i,h[r[i][e]]||"")})})}function h(n,r){function e(e){for(var f=[],p=i(e),h=p.x,v=p.y,b=p.is_vertical,y=e,d=void 0,g=void 0,j=!1,x=void 0,m=void 0,w=void 0;!a[y];){a[y]=!0,f.push(y),!j&&2>s&&(x=t.getValue(h,v),("●"===x||"○"===x)&&(j=!0,++s));var O=i(y);for(d=O.x,g=O.y,b=O.is_vertical,h!==d||v!==g?(h=d,v=g):b?(h=d,v=g+1):(h=d+1,v=g),m=o(h,v),w=0;w<m.length&&(x=m[w],x==y||!n[x]);++w);y=+x}!j||s>=2?(l=!0,r.add(c(f,function(t){return-t}))):u.push(f)}var a={},u=[],s=0,l=!1;for(var f in n)a[f]||e(f);if(s>=2){l=!0;for(var p=0;p<u.length;++p)r.add(c(u[p],function(t){return-t}))}return l}var b=t.width,y=t.height;v.start();var d=new a,g=0;if(t.eachCell(function(t,n,r){var i=0,a=o(n,r);for(u(f(a,3),function(t){return void d.add([-t[0],-t[1],-t[2]])}),i=0;i<a.length;++i)d.add(c(a,function(t,n){return n==i?-t:t}));if("●"===t){++g;var s=[],l=[],p=[],h=[];for(r>1&&(s.push(e(n,r-1,!0)),l.push(e(n,r-2,!0))),y-2>r&&(s.push(e(n,r,!0)),l.push(e(n,r+1,!0))),n>1&&(p.push(e(n-1,r,!1)),h.push(e(n-2,r,!1))),b-2>n&&(p.push(e(n,r,!1)),h.push(e(n+1,r,!1))),d.add(s),d.add(p),i=0;i<s.length;++i)d.add([-s[i],l[i]]);for(i=0;i<p.length;++i)d.add([-p[i],h[i]])}else if("○"===t){++g;var v=[],j=[],x=-1,m=-1;for(i=0;3>=i;++i)x=n-2+i,m=r-2+i,x>=0&&b-1>x&&(j[i]=e(x,r,!1)),m>=0&&y-1>m&&(v[i]=e(n,m,!0));var w=v[1]&&v[2],O=j[1]&&j[2];if(!w&&!O)throw alert("角に白丸があって、線を引けません。"),new RangeError;w?O?(d.add([v[1],j[1]]),d.add([-v[1],v[2]]),d.add([-j[1],-v[2]])):(d.add(v[1]),d.add(v[2])):(d.add(j[1]),d.add(j[2])),v[0]&&v[3]&&d.add(c(v,function(t){return-t})),j[0]&&j[3]&&d.add(c(j,function(t){return-t}))}}),v.lap("立式"),0===g)return void alert("フィールドが空です。終了します。");var j=null;n.solve_loop(d,function(t,n,e){v.lap("ソルバー");var i={},o=0,a="SAT"!==n,u=void 0;if(e)for(u=0;u<e.length;++u)e[u]>0&&(o++,i[e[u]]=!0);s(i);var l=h(i,t);return v.lap("ループチェック"),j?a?(v.finish(),alert("一意解です。"),s(j),!1):l?t:(v.finish(),alert("別解が見つかりました。"),!1):a?(v.finish(),alert("解が見つかりませんでした。"),!1):l?t:r("#bypass_unique").is(":checked")?(v.finish(),!1):(j=i,t.add(c(Object.keys(i),function(t){return-t})),t)}),console.log(d)})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/combination":59,"./lib/environment_check":60,"./lib/lap_timer":61,"./lib/puzzle_field":62,"./lib/sat_constraints":63,"./lib/sat_solver":64,"./lib/set_immediate":65,"lodash/array/fill":1,"lodash/collection/each":3,"lodash/collection/map":6}]},{},[66]);