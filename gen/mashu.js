!function t(n,e,r){function i(o,u){if(!e[o]){if(!n[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[o]={exports:{}};n[o][0].call(l.exports,function(t){var e=n[o][1][t];return i(e?e:t)},l,l.exports,t,n,e,r)}return e[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,n,e){function r(t,n,e,r){var o=t?t.length:0;return o?(e&&"number"!=typeof e&&a(t,n,e)&&(e=0,r=o),i(t,n,e,r)):[]}var i=t("../internal/baseFill"),a=t("../internal/isIterateeCall");n.exports=r},{"../internal/baseFill":13,"../internal/isIterateeCall":40}],2:[function(t,n,e){function r(t){var n=t?t.length:0;return n?t[n-1]:void 0}n.exports=r},{}],3:[function(t,n,e){n.exports=t("./forEach")},{"./forEach":5}],4:[function(t,n,e){function r(t,n,e){var r=u(t)?i:o;return n=a(n,e,3),r(t,n)}var i=t("../internal/arrayFilter"),a=t("../internal/baseCallback"),o=t("../internal/baseFilter"),u=t("../lang/isArray");n.exports=r},{"../internal/arrayFilter":8,"../internal/baseCallback":11,"../internal/baseFilter":14,"../lang/isArray":49}],5:[function(t,n,e){var r=t("../internal/arrayEach"),i=t("../internal/baseEach"),a=t("../internal/createForEach"),o=a(r,i);n.exports=o},{"../internal/arrayEach":7,"../internal/baseEach":12,"../internal/createForEach":31}],6:[function(t,n,e){function r(t,n,e){var r=u(t)?i:o;return n=a(n,e,3),r(t,n)}var i=t("../internal/arrayMap"),a=t("../internal/baseCallback"),o=t("../internal/baseMap"),u=t("../lang/isArray");n.exports=r},{"../internal/arrayMap":9,"../internal/baseCallback":11,"../internal/baseMap":21,"../lang/isArray":49}],7:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}n.exports=r},{}],8:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length,i=-1,a=[];++e<r;){var o=t[e];n(o,e,t)&&(a[++i]=o)}return a}n.exports=r},{}],9:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}n.exports=r},{}],10:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}n.exports=r},{}],11:[function(t,n,e){function r(t,n,e){var r=typeof t;return"function"==r?void 0===n?t:o(t,n,e):null==t?u:"object"==r?i(t):void 0===n?s(t):a(t,n)}var i=t("./baseMatches"),a=t("./baseMatchesProperty"),o=t("./bindCallback"),u=t("../utility/identity"),s=t("../utility/property");n.exports=r},{"../utility/identity":57,"../utility/property":58,"./baseMatches":22,"./baseMatchesProperty":23,"./bindCallback":28}],12:[function(t,n,e){var r=t("./baseForOwn"),i=t("./createBaseEach"),a=i(r);n.exports=a},{"./baseForOwn":16,"./createBaseEach":29}],13:[function(t,n,e){function r(t,n,e,r){var i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),r=void 0===r||r>i?i:+r||0,0>r&&(r+=i),i=e>r?0:r>>>0,e>>>=0;i>e;)t[e++]=n;return t}n.exports=r},{}],14:[function(t,n,e){function r(t,n){var e=[];return i(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}var i=t("./baseEach");n.exports=r},{"./baseEach":12}],15:[function(t,n,e){var r=t("./createBaseFor"),i=r();n.exports=i},{"./createBaseFor":30}],16:[function(t,n,e){function r(t,n){return i(t,n,a)}var i=t("./baseFor"),a=t("../object/keys");n.exports=r},{"../object/keys":54,"./baseFor":15}],17:[function(t,n,e){function r(t,n,e){if(null!=t){void 0!==e&&e in i(t)&&(n=[e]);for(var r=0,a=n.length;null!=t&&a>r;)t=t[n[r++]];return r&&r==a?t:void 0}}var i=t("./toObject");n.exports=r},{"./toObject":46}],18:[function(t,n,e){function r(t,n,e,u,s,c){return t===n?!0:null==t||null==n||!a(t)&&!o(n)?t!==t&&n!==n:i(t,n,r,e,u,s,c)}var i=t("./baseIsEqualDeep"),a=t("../lang/isObject"),o=t("./isObjectLike");n.exports=r},{"../lang/isObject":52,"./baseIsEqualDeep":19,"./isObjectLike":43}],19:[function(t,n,e){function r(t,n,e,r,p,b,y){var d=u(t),g=u(n),j=l,x=l;d||(j=v.call(t),j==c?j=f:j!=f&&(d=s(t))),g||(x=v.call(n),x==c?x=f:x!=f&&(g=s(n)));var m=j==f,w=x==f,k=j==x;if(k&&!d&&!m)return a(t,n,j);if(!p){var O=m&&h.call(t,"__wrapped__"),A=w&&h.call(n,"__wrapped__");if(O||A)return e(O?t.value():t,A?n.value():n,r,p,b,y)}if(!k)return!1;b||(b=[]),y||(y=[]);for(var _=b.length;_--;)if(b[_]==t)return y[_]==n;b.push(t),y.push(n);var E=(d?i:o)(t,n,e,r,p,b,y);return b.pop(),y.pop(),E}var i=t("./equalArrays"),a=t("./equalByTag"),o=t("./equalObjects"),u=t("../lang/isArray"),s=t("../lang/isTypedArray"),c="[object Arguments]",l="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty,v=p.toString;n.exports=r},{"../lang/isArray":49,"../lang/isTypedArray":53,"./equalArrays":32,"./equalByTag":33,"./equalObjects":34}],20:[function(t,n,e){function r(t,n,e){var r=n.length,o=r,u=!e;if(null==t)return!o;for(t=a(t);r--;){var s=n[r];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var c=s[0],l=t[c],f=s[1];if(u&&s[2]){if(void 0===l&&!(c in t))return!1}else{var p=e?e(l,f,c):void 0;if(!(void 0===p?i(f,l,e,!0):p))return!1}}return!0}var i=t("./baseIsEqual"),a=t("./toObject");n.exports=r},{"./baseIsEqual":18,"./toObject":46}],21:[function(t,n,e){function r(t,n){var e=-1,r=a(t)?Array(t.length):[];return i(t,function(t,i,a){r[++e]=n(t,i,a)}),r}var i=t("./baseEach"),a=t("./isArrayLike");n.exports=r},{"./baseEach":12,"./isArrayLike":38}],22:[function(t,n,e){function r(t){var n=a(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null==t?!1:t[e]===r&&(void 0!==r||e in o(t))}}return function(t){return i(t,n)}}var i=t("./baseIsMatch"),a=t("./getMatchData"),o=t("./toObject");n.exports=r},{"./baseIsMatch":20,"./getMatchData":36,"./toObject":46}],23:[function(t,n,e){function r(t,n){var e=u(t),r=s(t)&&c(n),h=t+"";return t=p(t),function(u){if(null==u)return!1;var s=h;if(u=f(u),(e||!r)&&!(s in u)){if(u=1==t.length?u:i(u,o(t,0,-1)),null==u)return!1;s=l(t),u=f(u)}return u[s]===n?void 0!==n||s in u:a(n,u[s],void 0,!0)}}var i=t("./baseGet"),a=t("./baseIsEqual"),o=t("./baseSlice"),u=t("../lang/isArray"),s=t("./isKey"),c=t("./isStrictComparable"),l=t("../array/last"),f=t("./toObject"),p=t("./toPath");n.exports=r},{"../array/last":2,"../lang/isArray":49,"./baseGet":17,"./baseIsEqual":18,"./baseSlice":26,"./isKey":41,"./isStrictComparable":44,"./toObject":46,"./toPath":47}],24:[function(t,n,e){function r(t){return function(n){return null==n?void 0:n[t]}}n.exports=r},{}],25:[function(t,n,e){function r(t){var n=t+"";return t=a(t),function(e){return i(e,t,n)}}var i=t("./baseGet"),a=t("./toPath");n.exports=r},{"./baseGet":17,"./toPath":47}],26:[function(t,n,e){function r(t,n,e){var r=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),e=void 0===e||e>i?i:+e||0,0>e&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+n];return a}n.exports=r},{}],27:[function(t,n,e){function r(t){return null==t?"":t+""}n.exports=r},{}],28:[function(t,n,e){function r(t,n,e){if("function"!=typeof t)return i;if(void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,a){return t.call(n,e,r,i,a)};case 5:return function(e,r,i,a,o){return t.call(n,e,r,i,a,o)}}return function(){return t.apply(n,arguments)}}var i=t("../utility/identity");n.exports=r},{"../utility/identity":57}],29:[function(t,n,e){function r(t,n){return function(e,r){var u=e?i(e):0;if(!a(u))return t(e,r);for(var s=n?u:-1,c=o(e);(n?s--:++s<u)&&r(c[s],s,c)!==!1;);return e}}var i=t("./getLength"),a=t("./isLength"),o=t("./toObject");n.exports=r},{"./getLength":35,"./isLength":42,"./toObject":46}],30:[function(t,n,e){function r(t){return function(n,e,r){for(var a=i(n),o=r(n),u=o.length,s=t?u:-1;t?s--:++s<u;){var c=o[s];if(e(a[c],c,a)===!1)break}return n}}var i=t("./toObject");n.exports=r},{"./toObject":46}],31:[function(t,n,e){function r(t,n){return function(e,r,o){return"function"==typeof r&&void 0===o&&a(e)?t(e,r):n(e,i(r,o,3))}}var i=t("./bindCallback"),a=t("../lang/isArray");n.exports=r},{"../lang/isArray":49,"./bindCallback":28}],32:[function(t,n,e){function r(t,n,e,r,a,o,u){var s=-1,c=t.length,l=n.length;if(c!=l&&!(a&&l>c))return!1;for(;++s<c;){var f=t[s],p=n[s],h=r?r(a?p:f,a?f:p,s):void 0;if(void 0!==h){if(h)continue;return!1}if(a){if(!i(n,function(t){return f===t||e(f,t,r,a,o,u)}))return!1}else if(f!==p&&!e(f,p,r,a,o,u))return!1}return!0}var i=t("./arraySome");n.exports=r},{"./arraySome":10}],33:[function(t,n,e){function r(t,n,e){switch(e){case i:case a:return+t==+n;case o:return t.name==n.name&&t.message==n.message;case u:return t!=+t?n!=+n:t==+n;case s:case c:return t==n+""}return!1}var i="[object Boolean]",a="[object Date]",o="[object Error]",u="[object Number]",s="[object RegExp]",c="[object String]";n.exports=r},{}],34:[function(t,n,e){function r(t,n,e,r,a,u,s){var c=i(t),l=c.length,f=i(n),p=f.length;if(l!=p&&!a)return!1;for(var h=l;h--;){var v=c[h];if(!(a?v in n:o.call(n,v)))return!1}for(var b=a;++h<l;){v=c[h];var y=t[v],d=n[v],g=r?r(a?d:y,a?y:d,v):void 0;if(!(void 0===g?e(y,d,r,a,u,s):g))return!1;b||(b="constructor"==v)}if(!b){var j=t.constructor,x=n.constructor;if(j!=x&&"constructor"in t&&"constructor"in n&&!("function"==typeof j&&j instanceof j&&"function"==typeof x&&x instanceof x))return!1}return!0}var i=t("../object/keys"),a=Object.prototype,o=a.hasOwnProperty;n.exports=r},{"../object/keys":54}],35:[function(t,n,e){var r=t("./baseProperty"),i=r("length");n.exports=i},{"./baseProperty":24}],36:[function(t,n,e){function r(t){for(var n=a(t),e=n.length;e--;)n[e][2]=i(n[e][1]);return n}var i=t("./isStrictComparable"),a=t("../object/pairs");n.exports=r},{"../object/pairs":56,"./isStrictComparable":44}],37:[function(t,n,e){function r(t,n){var e=null==t?void 0:t[n];return i(e)?e:void 0}var i=t("../lang/isNative");n.exports=r},{"../lang/isNative":51}],38:[function(t,n,e){function r(t){return null!=t&&a(i(t))}var i=t("./getLength"),a=t("./isLength");n.exports=r},{"./getLength":35,"./isLength":42}],39:[function(t,n,e){function r(t,n){return t="number"==typeof t||i.test(t)?+t:-1,n=null==n?a:n,t>-1&&t%1==0&&n>t}var i=/^\d+$/,a=9007199254740991;n.exports=r},{}],40:[function(t,n,e){function r(t,n,e){if(!o(e))return!1;var r=typeof n;if("number"==r?i(e)&&a(n,e.length):"string"==r&&n in e){var u=e[n];return t===t?t===u:u!==u}return!1}var i=t("./isArrayLike"),a=t("./isIndex"),o=t("../lang/isObject");n.exports=r},{"../lang/isObject":52,"./isArrayLike":38,"./isIndex":39}],41:[function(t,n,e){function r(t,n){var e=typeof t;if("string"==e&&u.test(t)||"number"==e)return!0;if(i(t))return!1;var r=!o.test(t);return r||null!=n&&t in a(n)}var i=t("../lang/isArray"),a=t("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,u=/^\w*$/;n.exports=r},{"../lang/isArray":49,"./toObject":46}],42:[function(t,n,e){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&i>=t}var i=9007199254740991;n.exports=r},{}],43:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}n.exports=r},{}],44:[function(t,n,e){function r(t){return t===t&&!i(t)}var i=t("../lang/isObject");n.exports=r},{"../lang/isObject":52}],45:[function(t,n,e){function r(t){for(var n=s(t),e=n.length,r=e&&t.length,c=!!r&&u(r)&&(a(t)||i(t)),f=-1,p=[];++f<e;){var h=n[f];(c&&o(h,r)||l.call(t,h))&&p.push(h)}return p}var i=t("../lang/isArguments"),a=t("../lang/isArray"),o=t("./isIndex"),u=t("./isLength"),s=t("../object/keysIn"),c=Object.prototype,l=c.hasOwnProperty;n.exports=r},{"../lang/isArguments":48,"../lang/isArray":49,"../object/keysIn":55,"./isIndex":39,"./isLength":42}],46:[function(t,n,e){function r(t){return i(t)?t:Object(t)}var i=t("../lang/isObject");n.exports=r},{"../lang/isObject":52}],47:[function(t,n,e){function r(t){if(a(t))return t;var n=[];return i(t).replace(o,function(t,e,r,i){n.push(r?i.replace(u,"$1"):e||t)}),n}var i=t("./baseToString"),a=t("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,u=/\\(\\)?/g;n.exports=r},{"../lang/isArray":49,"./baseToString":27}],48:[function(t,n,e){function r(t){return a(t)&&i(t)&&u.call(t,"callee")&&!s.call(t,"callee")}var i=t("../internal/isArrayLike"),a=t("../internal/isObjectLike"),o=Object.prototype,u=o.hasOwnProperty,s=o.propertyIsEnumerable;n.exports=r},{"../internal/isArrayLike":38,"../internal/isObjectLike":43}],49:[function(t,n,e){var r=t("../internal/getNative"),i=t("../internal/isLength"),a=t("../internal/isObjectLike"),o="[object Array]",u=Object.prototype,s=u.toString,c=r(Array,"isArray"),l=c||function(t){return a(t)&&i(t.length)&&s.call(t)==o};n.exports=l},{"../internal/getNative":37,"../internal/isLength":42,"../internal/isObjectLike":43}],50:[function(t,n,e){function r(t){return i(t)&&u.call(t)==a}var i=t("./isObject"),a="[object Function]",o=Object.prototype,u=o.toString;n.exports=r},{"./isObject":52}],51:[function(t,n,e){function r(t){return null==t?!1:i(t)?l.test(s.call(t)):a(t)&&o.test(t)}var i=t("./isFunction"),a=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,u=Object.prototype,s=Function.prototype.toString,c=u.hasOwnProperty,l=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=r},{"../internal/isObjectLike":43,"./isFunction":50}],52:[function(t,n,e){function r(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=r},{}],53:[function(t,n,e){function r(t){return a(t)&&i(t.length)&&!!C[F.call(t)]}var i=t("../internal/isLength"),a=t("../internal/isObjectLike"),o="[object Arguments]",u="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",v="[object Object]",b="[object RegExp]",y="[object Set]",d="[object String]",g="[object WeakMap]",j="[object ArrayBuffer]",x="[object Float32Array]",m="[object Float64Array]",w="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",L="[object Uint32Array]",C={};C[x]=C[m]=C[w]=C[k]=C[O]=C[A]=C[_]=C[E]=C[L]=!0,C[o]=C[u]=C[j]=C[s]=C[c]=C[l]=C[f]=C[p]=C[h]=C[v]=C[b]=C[y]=C[d]=C[g]=!1;var S=Object.prototype,F=S.toString;n.exports=r},{"../internal/isLength":42,"../internal/isObjectLike":43}],54:[function(t,n,e){var r=t("../internal/getNative"),i=t("../internal/isArrayLike"),a=t("../lang/isObject"),o=t("../internal/shimKeys"),u=r(Object,"keys"),s=u?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&i(t)?o(t):a(t)?u(t):[]}:o;n.exports=s},{"../internal/getNative":37,"../internal/isArrayLike":38,"../internal/shimKeys":45,"../lang/isObject":52}],55:[function(t,n,e){function r(t){if(null==t)return[];s(t)||(t=Object(t));var n=t.length;n=n&&u(n)&&(a(t)||i(t))&&n||0;for(var e=t.constructor,r=-1,c="function"==typeof e&&e.prototype===t,f=Array(n),p=n>0;++r<n;)f[r]=r+"";for(var h in t)p&&o(h,n)||"constructor"==h&&(c||!l.call(t,h))||f.push(h);return f}var i=t("../lang/isArguments"),a=t("../lang/isArray"),o=t("../internal/isIndex"),u=t("../internal/isLength"),s=t("../lang/isObject"),c=Object.prototype,l=c.hasOwnProperty;n.exports=r},{"../internal/isIndex":39,"../internal/isLength":42,"../lang/isArguments":48,"../lang/isArray":49,"../lang/isObject":52}],56:[function(t,n,e){function r(t){t=a(t);for(var n=-1,e=i(t),r=e.length,o=Array(r);++n<r;){var u=e[n];o[n]=[u,t[u]]}return o}var i=t("./keys"),a=t("../internal/toObject");n.exports=r},{"../internal/toObject":46,"./keys":54}],57:[function(t,n,e){function r(t){return t}n.exports=r},{}],58:[function(t,n,e){function r(t){return o(t)?i(t):a(t)}var i=t("../internal/baseProperty"),a=t("../internal/basePropertyDeep"),o=t("../internal/isKey");n.exports=r},{"../internal/baseProperty":24,"../internal/basePropertyDeep":25,"../internal/isKey":41}],59:[function(t,n,e){"use strict";function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var i=t("lodash/collection/map"),a=t("lodash/collection/filter");n.exports=function o(t,n){var e=[];if(n=+n,0>n||n>t.length)return[];if(0==n)return[[]];if(1==n)return i(t,function(t){return[t]});if(n==t.length-1){var u=function(){var n=void 0;for(n=0;n<t.length;++n)e.push(a(t,function(t,e){return e!==n}));return{v:e}}();if("object"===("undefined"==typeof u?"undefined":r(u)))return u.v}var s=[].concat(t);if(n==t.length)return[s];for(var c,l;;){if(s.length===n){e.push(s);break}c=[s.pop()],l=o(s,n-1);var f=void 0;for(f=0;f<l.length;++f)e.push(l[f].concat(c))}return e}},{"lodash/collection/filter":4,"lodash/collection/map":6}],60:[function(t,n,e){"use strict";n.exports="function"==typeof Worker&&"function"==typeof Int32Array},{}],61:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i,a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();i=performance&&performance.now?function(){return performance.now()}:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},n.exports=function(){function t(n){r(this,t),this.output=n}return a(t,[{key:"start",value:function(){this.start_time=this.lap_time=i()}},{key:"lap",value:function(t){var n=i();this.output(t+": "+(n-this.lap_time)+" ms"),this.lap_time=n}},{key:"finish",value:function(t){t&&this.lap(t),this.output("合計時間: "+(this.lap_time-this.start_time)+" ms")}}]),t}()},{}],62:[function(t,n,e){(function(t){var e;e="undefined"!=typeof window?window.jQuery:"undefined"!=typeof t?t.jQuery:null,n.exports=function(){function t(t){this.$field=e(t),this.values=[],this.$field.on("click.field","td",function(t){return function(n){var r,i,a,o,u;n.preventDefault(),t.changeDisabled||e.isFunction(t.changeFunc)&&(i=n.target.dataset.pos.split("_"),o=i[0],u=i[1],a=t.getValue(o,u),r=t.changeFunc(a,!0,o,u),r!==!1&&t.setValue(o,u,r))}}(this)),this.$field.on("contextmenu.field","td",function(t){return function(n){var r,i,a,o,u;n.preventDefault(),t.changeDisabled||e.isFunction(t.changeFunc)&&(i=n.target.dataset.pos.split("_"),o=i[0],u=i[1],a=t.getValue(o,u),r=t.changeFunc(a,!1,o,u),r!==!1&&t.setValue(o,u,r))}}(this))}return t.prototype.width=0,t.prototype.height=0,t.prototype.changeFunc=null,t.prototype.changeDisabled=!1,t.prototype.setSize=function(t,n){var r,i,a,o,u,s,c,l;for(this.width=t,this.height=n,this.values=[],this.$field.empty(),l=a=0,u=n;u>=0?u>a:a>u;l=u>=0?++a:--a)for(i=e("<tr />"),this.$field.append(i),this.values.push([]),c=o=0,s=t;s>=0?s>o:o>s;c=s>=0?++o:--o)r=e("<td />"),r.attr("data-pos",c+"_"+l).appendTo(i),this.values[l].push("");return this},t.prototype.setValue=function(t,n,e){return this.$field.find("td[data-pos='"+t+"_"+n+"']").text(e),this.values[n][t]=e,this},t.prototype.getValue=function(t,n){return this.values[n][t]},t.prototype.eachCell=function(t){var n,e,r,i,a,o;for(o=n=0,r=this.height;r>=0?r>n:n>r;o=r>=0?++n:--n)for(a=e=0,i=this.width;i>=0?i>e:e>i;a=i>=0?++e:--e)if(t(this.values[o][a],a,o)===!1)return!1;return!0},t}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],63:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function a(t){var n=[],e="undefined"==typeof t?"undefined":i(t);if("string"===e)n=t.split(" ");else if("number"===e)n=[t];else{if("[object Array]"!==u.call(t))throw new TypeError;n=t.slice()}for(var r=0;r<n.length;++r){var a=+n[r];if(n[r]=a,(0|a)!==a)throw new RangeError("Only integers are accepted for constraints.")}n.sort(function(t,n){return 0===t&&0===n?0:0===t?1:0===n?-1:Math.abs(t)-Math.abs(n)});for(var o=0,r=0;r<n.length;++r)if(o<Math.abs(n[r])&&(o=Math.abs(n[r])),r<n.length-1&&0!==n[r]&&n[r]+n[r+1]===0)return{text:"",maxVar:0};for(;0===n[n.length-1];)n.pop();return n.push(0),{text:n.join(" "),maxVar:o}}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=Object.prototype.toString,s=function(){function t(){r(this,t),this.clear()}return o(t,[{key:"clear",value:function(){this.textConstraints=[],this.maxVar=0}},{key:"add",value:function(t){var n=a(t);return n.maxVar>0&&(this.textConstraints.push(n.text),this.maxVar<n.maxVar&&(this.maxVar=n.maxVar)),this}},{key:"length",value:function(){return this.textConstraints.length}},{key:"merge",value:function(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];for(var r=0;r<n.length;++r){for(var i=0;i<n[r].textConstraints.length;++i)this.textConstraints.push(n[r].textConstraints[i]);this.maxVar<n[r].maxVar&&(this.maxVar=n[r].maxVar)}return this}},{key:"toDIMACS",value:function(){return"p cnf "+this.maxVar+" "+this.textConstraints.length+"\n"+this.textConstraints.join("\n")}}],[{key:"merge",value:function(){var n=new t;return n.merge.apply(n,arguments),n}}]),t}();n.exports=s},{}],64:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=t("./sat_constraints"),o=t("lodash/collection/map"),u=function(){function t(){r(this,t)}return i(t,[{key:"loadWorker",value:function(){this.worker=new Worker("gen/minisat_worker.js")}},{key:"setListener",value:function(t){this.worker||this.loadWorker(),this.listener&&this.worker.removeEventListener("message",this.listener,!0),this.listener=function(n){var e=n.data.result,r=null,i="ERROR";e&&(r=e.split(" "),i=r.shift(),r=o(r,function(t){return+t})),t(i,r,n.data.stdout,n.data.stderr)},this.worker.addEventListener("message",this.listener,!0)}},{key:"solve",value:function(t,n){var e=t.toDIMACS();this.setListener(n),this.worker.postMessage(e)}},{key:"solve_loop",value:function(t,n){var e=this;this.setListener(function(r,i,o,u){var s=n(t,r,i,o,u);if(s!==!1){if(s instanceof a)return t=s,void e.worker.postMessage(s.toDIMACS());throw new TypeError}}),this.worker.postMessage(t.toDIMACS())}}]),t}();n.exports=u},{"./sat_constraints":63,"lodash/collection/map":6}],65:[function(t,n,e){"use strict";var r,i,a;a=[],r="set_timeout_"+Math.random(),i=function(t){return a.push(t),window.postMessage(r,"*"),null},window.addEventListener("message",function(t){t.source===window&&t.data===r&&(t.stopPropagation(),a.length>0&&a.shift()())},!0),n.exports=i},{}],66:[function(t,n,e){(function(n){"use strict";var e="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,r=t("./lib/puzzle_field"),i=t("./lib/environment_check"),a=t("./lib/lap_timer"),o=t("./lib/sat_constraints"),u=t("lodash/collection/each"),s=t("./lib/sat_solver"),c=t("lodash/collection/map"),l=t("./lib/set_immediate"),f=t("./lib/combination"),p=t("lodash/array/fill");e(function(){if(!i)return void alert("この環境ではJavaScriptの機能が不足していて、実行できません。");var t=new r("#field"),n=new s;n.loadWorker(),e("#make_field_btn").click(function(){var n,r;return r=parseInt(e("#width").val(),10),n=parseInt(e("#height").val(),10),r>=2&&n>=2?void t.setSize(r,n):void alert("2×2以上で設定してください。")}),e("#make_field_btn").click(),t.changeFunc=function(t,n){if(n)switch(t){case"○":return"●";case"●":return"";default:return"○"}else switch(t){case"○":return"";case"●":return"○";default:return"●"}};var h=e("#indicator"),v=new a(function(t){return e("<p />").text(t).appendTo(h)});e("#solve_btn").click(function(){function r(t,n,e){var r=+t;if(n=+n,0>t||t>=b||0>n||n>=y)throw new RangeError;if(e){if(n===y-1)throw new RangeError;return y*(b-1)+b*n+r+1}if(t===b-1)throw new RangeError;return(b-1)*n+r+1}function i(t){var n=0,e=0;if(t=+t,0>=t)throw new RangeError;return y*(b-1)>=t?(n=(t-1)%(b-1),e=(t-1-n)/(b-1),{x:n,y:e,is_vertical:!1}):(t-=y*(b-1),n=(t-1)%b,e=(t-1-n)/b,{x:n,y:e,is_vertical:!0})}function a(t,n){var e=[];return n>0&&e.push(r(t,n-1,!0)),y-1>n&&e.push(r(t,n,!0)),t>0&&e.push(r(t-1,n,!1)),b-1>t&&e.push(r(t,n,!1)),e}function s(n){l(function(){var e,r,a,o,u=[],s=8,c=4,l=2,f=1,h={3:"│",5:"┌",6:"└",9:"┐",10:"┘",12:"─"};for(a=0;y>a;++a)u.push(p(new Array(b),0));for(e in n){var v=i(e);r=v.x,a=v.y,o=v.is_vertical,o?(u[a][r]+=f,u[a+1][r]+=l):(u[a][r]+=c,u[a][r+1]+=s)}t.eachCell(function(n,e,r){"○"!==n&&"●"!==n&&t.setValue(e,r,h[u[r][e]]||"")})})}function h(n,e){function r(r){for(var f,p,h,v,b,y=[],d=i(r),g=d.x,j=d.y,x=d.is_vertical,m=r,w=!1;!o[m];){o[m]=!0,y.push(m),!w&&2>s&&(h=t.getValue(g,j),("●"===h||"○"===h)&&(w=!0,++s));var k=i(m);for(f=k.x,p=k.y,x=k.is_vertical,g!==f||j!==p?(g=f,j=p):x?(g=f,j=p+1):(g=f+1,j=p),v=a(g,j),b=0;b<v.length&&(h=v[b],h==m||!n[h]);++b);m=+h}!w||s>=2?(l=!0,e.add(c(y,function(t){return-t}))):u.push(y)}var o={},u=[],s=0,l=!1;for(var f in n)o[f]||r(f);if(s>=2){l=!0;for(var p=0;p<u.length;++p)e.add(c(u[p],function(t){return-t}))}return l}var b=t.width,y=t.height;v.start();var d=new o,g=0;if(t.eachCell(function(t,n,e){var i=0,o=a(n,e);for(u(f(o,3),function(t){return void d.add([-t[0],-t[1],-t[2]])}),i=0;i<o.length;++i)d.add(c(o,function(t,n){return n==i?-t:t}));if("●"===t){++g;var s=[],l=[],p=[],h=[];for(e>1&&(s.push(r(n,e-1,!0)),l.push(r(n,e-2,!0))),y-2>e&&(s.push(r(n,e,!0)),l.push(r(n,e+1,!0))),n>1&&(p.push(r(n-1,e,!1)),h.push(r(n-2,e,!1))),b-2>n&&(p.push(r(n,e,!1)),h.push(r(n+1,e,!1))),d.add(s),d.add(p),i=0;i<s.length;++i)d.add([-s[i],l[i]]);for(i=0;i<p.length;++i)d.add([-p[i],h[i]])}else if("○"===t){++g;var v=[],j=[],x=-1,m=-1;for(i=0;3>=i;++i)x=n-2+i,m=e-2+i,x>=0&&b-1>x&&(j[i]=r(x,e,!1)),m>=0&&y-1>m&&(v[i]=r(n,m,!0));var w=v[1]&&v[2],k=j[1]&&j[2];if(!w&&!k)throw alert("角に白丸があって、線を引けません。"),new RangeError;w?k?(d.add([v[1],j[1]]),d.add([-v[1],v[2]]),d.add([-j[1],-v[2]])):(d.add(v[1]),d.add(v[2])):(d.add(j[1]),d.add(j[2])),v[0]&&v[3]&&d.add(c(v,function(t){return-t})),j[0]&&j[3]&&d.add(c(j,function(t){return-t}))}}),v.lap("立式"),0===g)return void alert("フィールドが空です。終了します。");var j=null;n.solve_loop(d,function(t,n,r){v.lap("ソルバー");var i,a={},o=0,u="SAT"!==n;if(r)for(i=0;i<r.length;++i)r[i]>0&&(o++,a[r[i]]=!0);s(a);var l=h(a,t);return v.lap("ループチェック"),j?u?(v.finish(),alert("一意解です。"),s(j),!1):l?t:(v.finish(),alert("別解が見つかりました。"),!1):u?(v.finish(),alert("解が見つかりませんでした。"),!1):l?t:e("#bypass_unique").is(":checked")?(v.finish(),!1):(j=a,t.add(c(Object.keys(a),function(t){return-t})),t)}),console.log(d)})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/combination":59,"./lib/environment_check":60,"./lib/lap_timer":61,"./lib/puzzle_field":62,"./lib/sat_constraints":63,"./lib/sat_solver":64,"./lib/set_immediate":65,"lodash/array/fill":1,"lodash/collection/each":3,"lodash/collection/map":6}]},{},[66]);
