!function t(n,r,e){function i(a,u){if(!r[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};n[a][0].call(f.exports,function(t){var r=n[a][1][t];return i(r||t)},f,f.exports,t,n,r,e)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(t,n,r){var e=t("../internal/baseDifference"),i=t("../internal/baseFlatten"),o=t("../internal/isArrayLike"),a=t("../internal/isObjectLike"),u=t("../function/restParam")(function(t,n){return a(t)&&o(t)?e(t,i(n,!1,!0)):[]});n.exports=u},{"../function/restParam":4,"../internal/baseDifference":9,"../internal/baseFlatten":10,"../internal/isArrayLike":34,"../internal/isObjectLike":39}],2:[function(t,n,r){function e(t){var n=t?t.length:0;return n?t[n-1]:void 0}n.exports=e},{}],3:[function(t,n,r){function e(t,n,r,e){return(t?t.length:0)?(null!=n&&"boolean"!=typeof n&&(r=a(t,n,e=r)?void 0:n,n=!1),r=null==r?r:i(r,e,3),n?u(t,r):o(t,r)):[]}var i=t("../internal/baseCallback"),o=t("../internal/baseUniq"),a=t("../internal/isIterateeCall"),u=t("../internal/sortedUniq");n.exports=e},{"../internal/baseCallback":8,"../internal/baseUniq":22,"../internal/isIterateeCall":36,"../internal/sortedUniq":42}],4:[function(t,n,r){function e(t,n){if("function"!=typeof t)throw new TypeError(i);return n=o(void 0===n?t.length-1:+n||0,0),function(){for(var r=arguments,e=-1,i=o(r.length-n,0),a=Array(i);++e<i;)a[e]=r[n+e];switch(n){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var u=Array(n+1);for(e=-1;++e<n;)u[e]=r[e];return u[n]=a,t.apply(this,u)}}var i="Expected a function",o=Math.max;n.exports=e},{}],5:[function(t,n,r){(function(r){function e(t){var n=t?t.length:0;for(this.data={hash:u(null),set:new a};n--;)this.push(t[n])}var i=t("./cachePush"),o=t("./getNative"),a=o(r,"Set"),u=o(Object,"create");e.prototype.push=i,n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":25,"./getNative":32}],6:[function(t,n,r){function e(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}n.exports=e},{}],7:[function(t,n,r){function e(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}n.exports=e},{}],8:[function(t,n,r){function e(t,n,r){var e=typeof t;return"function"==e?void 0===n?t:a(t,n,r):null==t?u:"object"==e?i(t):void 0===n?s(t):o(t,n)}var i=t("./baseMatches"),o=t("./baseMatchesProperty"),a=t("./bindCallback"),u=t("../utility/identity"),s=t("../utility/property");n.exports=e},{"../utility/identity":54,"../utility/property":55,"./baseMatches":16,"./baseMatchesProperty":17,"./bindCallback":23}],9:[function(t,n,r){function e(t,n){var r=t?t.length:0,e=[];if(!r)return e;var s=-1,c=i,f=!0,l=f&&n.length>=u?a(n):null,p=n.length;l&&(c=o,f=!1,n=l);t:for(;++s<r;){var h=t[s];if(f&&h===h){for(var v=p;v--;)if(n[v]===h)continue t;e.push(h)}else c(n,h,0)<0&&e.push(h)}return e}var i=t("./baseIndexOf"),o=t("./cacheIndexOf"),a=t("./createCache"),u=200;n.exports=e},{"./baseIndexOf":12,"./cacheIndexOf":24,"./createCache":26}],10:[function(t,n,r){function e(t,n,r,c){c||(c=[]);for(var f=-1,l=t.length;++f<l;){var p=t[f];s(p)&&u(p)&&(r||a(p)||o(p))?n?e(p,n,r,c):i(c,p):r||(c[c.length]=p)}return c}var i=t("./arrayPush"),o=t("../lang/isArguments"),a=t("../lang/isArray"),u=t("./isArrayLike"),s=t("./isObjectLike");n.exports=e},{"../lang/isArguments":45,"../lang/isArray":46,"./arrayPush":6,"./isArrayLike":34,"./isObjectLike":39}],11:[function(t,n,r){function e(t,n,r){if(null!=t){void 0!==r&&r in i(t)&&(n=[r]);for(var e=0,o=n.length;null!=t&&e<o;)t=t[n[e++]];return e&&e==o?t:void 0}}var i=t("./toObject");n.exports=e},{"./toObject":43}],12:[function(t,n,r){function e(t,n,r){if(n!==n)return i(t,r);for(var e=r-1,o=t.length;++e<o;)if(t[e]===n)return e;return-1}var i=t("./indexOfNaN");n.exports=e},{"./indexOfNaN":33}],13:[function(t,n,r){function e(t,n,r,u,s,c){return t===n||(null==t||null==n||!o(t)&&!a(n)?t!==t&&n!==n:i(t,n,e,r,u,s,c))}var i=t("./baseIsEqualDeep"),o=t("../lang/isObject"),a=t("./isObjectLike");n.exports=e},{"../lang/isObject":49,"./baseIsEqualDeep":14,"./isObjectLike":39}],14:[function(t,n,r){function e(t,n,r,e,p,d,b){var y=u(t),g=u(n),x=f,j=f;y||((x=v.call(t))==c?x=l:x!=l&&(y=s(t))),g||((j=v.call(n))==c?j=l:j!=l&&(g=s(n)));var m=x==l,O=j==l,w=x==j;if(w&&!y&&!m)return o(t,n,x);if(!p){var A=m&&h.call(t,"__wrapped__"),k=O&&h.call(n,"__wrapped__");if(A||k)return r(A?t.value():t,k?n.value():n,e,p,d,b)}if(!w)return!1;d||(d=[]),b||(b=[]);for(var L=d.length;L--;)if(d[L]==t)return b[L]==n;d.push(t),b.push(n);var _=(y?i:a)(t,n,r,e,p,d,b);return d.pop(),b.pop(),_}var i=t("./equalArrays"),o=t("./equalByTag"),a=t("./equalObjects"),u=t("../lang/isArray"),s=t("../lang/isTypedArray"),c="[object Arguments]",f="[object Array]",l="[object Object]",p=Object.prototype,h=p.hasOwnProperty,v=p.toString;n.exports=e},{"../lang/isArray":46,"../lang/isTypedArray":50,"./equalArrays":27,"./equalByTag":28,"./equalObjects":29}],15:[function(t,n,r){function e(t,n,r){var e=n.length,a=e,u=!r;if(null==t)return!a;for(t=o(t);e--;){var s=n[e];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++e<a;){var c=(s=n[e])[0],f=t[c],l=s[1];if(u&&s[2]){if(void 0===f&&!(c in t))return!1}else{var p=r?r(f,l,c):void 0;if(!(void 0===p?i(l,f,r,!0):p))return!1}}return!0}var i=t("./baseIsEqual"),o=t("./toObject");n.exports=e},{"./baseIsEqual":13,"./toObject":43}],16:[function(t,n,r){function e(t){var n=o(t);if(1==n.length&&n[0][2]){var r=n[0][0],e=n[0][1];return function(t){return null!=t&&(t[r]===e&&(void 0!==e||r in a(t)))}}return function(t){return i(t,n)}}var i=t("./baseIsMatch"),o=t("./getMatchData"),a=t("./toObject");n.exports=e},{"./baseIsMatch":15,"./getMatchData":31,"./toObject":43}],17:[function(t,n,r){function e(t,n){var r=u(t),e=s(t)&&c(n),h=t+"";return t=p(t),function(u){if(null==u)return!1;var s=h;if(u=l(u),(r||!e)&&!(s in u)){if(null==(u=1==t.length?u:i(u,a(t,0,-1))))return!1;s=f(t),u=l(u)}return u[s]===n?void 0!==n||s in u:o(n,u[s],void 0,!0)}}var i=t("./baseGet"),o=t("./baseIsEqual"),a=t("./baseSlice"),u=t("../lang/isArray"),s=t("./isKey"),c=t("./isStrictComparable"),f=t("../array/last"),l=t("./toObject"),p=t("./toPath");n.exports=e},{"../array/last":2,"../lang/isArray":46,"./baseGet":11,"./baseIsEqual":13,"./baseSlice":20,"./isKey":37,"./isStrictComparable":40,"./toObject":43,"./toPath":44}],18:[function(t,n,r){function e(t){return function(n){return null==n?void 0:n[t]}}n.exports=e},{}],19:[function(t,n,r){function e(t){var n=t+"";return t=o(t),function(r){return i(r,t,n)}}var i=t("./baseGet"),o=t("./toPath");n.exports=e},{"./baseGet":11,"./toPath":44}],20:[function(t,n,r){function e(t,n,r){var e=-1,i=t.length;(n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:+r||0)<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++e<i;)o[e]=t[e+n];return o}n.exports=e},{}],21:[function(t,n,r){function e(t){return null==t?"":t+""}n.exports=e},{}],22:[function(t,n,r){function e(t,n){var r=-1,e=i,s=t.length,c=!0,f=c&&s>=u,l=f?a():null,p=[];l?(e=o,c=!1):(f=!1,l=n?[]:p);t:for(;++r<s;){var h=t[r],v=n?n(h,r,t):h;if(c&&h===h){for(var d=l.length;d--;)if(l[d]===v)continue t;n&&l.push(v),p.push(h)}else e(l,v,0)<0&&((n||f)&&l.push(v),p.push(h))}return p}var i=t("./baseIndexOf"),o=t("./cacheIndexOf"),a=t("./createCache"),u=200;n.exports=e},{"./baseIndexOf":12,"./cacheIndexOf":24,"./createCache":26}],23:[function(t,n,r){function e(t,n,r){if("function"!=typeof t)return i;if(void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,a){return t.call(n,r,e,i,o,a)}}return function(){return t.apply(n,arguments)}}var i=t("../utility/identity");n.exports=e},{"../utility/identity":54}],24:[function(t,n,r){function e(t,n){var r=t.data;return("string"==typeof n||i(n)?r.set.has(n):r.hash[n])?0:-1}var i=t("../lang/isObject");n.exports=e},{"../lang/isObject":49}],25:[function(t,n,r){function e(t){var n=this.data;"string"==typeof t||i(t)?n.set.add(t):n.hash[t]=!0}var i=t("../lang/isObject");n.exports=e},{"../lang/isObject":49}],26:[function(t,n,r){(function(r){function e(t){return u&&a?new i(t):null}var i=t("./SetCache"),o=t("./getNative"),a=o(r,"Set"),u=o(Object,"create");n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":5,"./getNative":32}],27:[function(t,n,r){function e(t,n,r,e,o,a,u){var s=-1,c=t.length,f=n.length;if(c!=f&&!(o&&f>c))return!1;for(;++s<c;){var l=t[s],p=n[s],h=e?e(o?p:l,o?l:p,s):void 0;if(void 0!==h){if(h)continue;return!1}if(o){if(!i(n,function(t){return l===t||r(l,t,e,o,a,u)}))return!1}else if(l!==p&&!r(l,p,e,o,a,u))return!1}return!0}var i=t("./arraySome");n.exports=e},{"./arraySome":7}],28:[function(t,n,r){function e(t,n,r){switch(r){case i:case o:return+t==+n;case a:return t.name==n.name&&t.message==n.message;case u:return t!=+t?n!=+n:t==+n;case s:case c:return t==n+""}return!1}var i="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Number]",s="[object RegExp]",c="[object String]";n.exports=e},{}],29:[function(t,n,r){function e(t,n,r,e,a,u,s){var c=i(t),f=c.length;if(f!=i(n).length&&!a)return!1;for(var l=f;l--;){var p=c[l];if(!(a?p in n:o.call(n,p)))return!1}for(var h=a;++l<f;){var v=t[p=c[l]],d=n[p],b=e?e(a?d:v,a?v:d,p):void 0;if(!(void 0===b?r(v,d,e,a,u,s):b))return!1;h||(h="constructor"==p)}if(!h){var y=t.constructor,g=n.constructor;if(y!=g&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g))return!1}return!0}var i=t("../object/keys"),o=Object.prototype.hasOwnProperty;n.exports=e},{"../object/keys":51}],30:[function(t,n,r){var e=t("./baseProperty")("length");n.exports=e},{"./baseProperty":18}],31:[function(t,n,r){function e(t){for(var n=o(t),r=n.length;r--;)n[r][2]=i(n[r][1]);return n}var i=t("./isStrictComparable"),o=t("../object/pairs");n.exports=e},{"../object/pairs":53,"./isStrictComparable":40}],32:[function(t,n,r){function e(t,n){var r=null==t?void 0:t[n];return i(r)?r:void 0}var i=t("../lang/isNative");n.exports=e},{"../lang/isNative":48}],33:[function(t,n,r){function e(t,n,r){for(var e=t.length,i=n+(r?0:-1);r?i--:++i<e;){var o=t[i];if(o!==o)return i}return-1}n.exports=e},{}],34:[function(t,n,r){function e(t){return null!=t&&o(i(t))}var i=t("./getLength"),o=t("./isLength");n.exports=e},{"./getLength":30,"./isLength":38}],35:[function(t,n,r){function e(t,n){return t="number"==typeof t||i.test(t)?+t:-1,n=null==n?o:n,t>-1&&t%1==0&&t<n}var i=/^\d+$/,o=9007199254740991;n.exports=e},{}],36:[function(t,n,r){function e(t,n,r){if(!a(r))return!1;var e=typeof n;if("number"==e?i(r)&&o(n,r.length):"string"==e&&n in r){var u=r[n];return t===t?t===u:u!==u}return!1}var i=t("./isArrayLike"),o=t("./isIndex"),a=t("../lang/isObject");n.exports=e},{"../lang/isObject":49,"./isArrayLike":34,"./isIndex":35}],37:[function(t,n,r){function e(t,n){var r=typeof t;return!!("string"==r&&u.test(t)||"number"==r)||!i(t)&&(!a.test(t)||null!=n&&t in o(n))}var i=t("../lang/isArray"),o=t("./toObject"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,u=/^\w*$/;n.exports=e},{"../lang/isArray":46,"./toObject":43}],38:[function(t,n,r){function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;n.exports=e},{}],39:[function(t,n,r){function e(t){return!!t&&"object"==typeof t}n.exports=e},{}],40:[function(t,n,r){function e(t){return t===t&&!i(t)}var i=t("../lang/isObject");n.exports=e},{"../lang/isObject":49}],41:[function(t,n,r){function e(t){for(var n=s(t),r=n.length,e=r&&t.length,f=!!e&&u(e)&&(o(t)||i(t)),l=-1,p=[];++l<r;){var h=n[l];(f&&a(h,e)||c.call(t,h))&&p.push(h)}return p}var i=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("./isIndex"),u=t("./isLength"),s=t("../object/keysIn"),c=Object.prototype.hasOwnProperty;n.exports=e},{"../lang/isArguments":45,"../lang/isArray":46,"../object/keysIn":52,"./isIndex":35,"./isLength":38}],42:[function(t,n,r){function e(t,n){for(var r,e=-1,i=t.length,o=-1,a=[];++e<i;){var u=t[e],s=n?n(u,e,t):u;e&&r===s||(r=s,a[++o]=u)}return a}n.exports=e},{}],43:[function(t,n,r){function e(t){return i(t)?t:Object(t)}var i=t("../lang/isObject");n.exports=e},{"../lang/isObject":49}],44:[function(t,n,r){function e(t){if(o(t))return t;var n=[];return i(t).replace(a,function(t,r,e,i){n.push(e?i.replace(u,"$1"):r||t)}),n}var i=t("./baseToString"),o=t("../lang/isArray"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,u=/\\(\\)?/g;n.exports=e},{"../lang/isArray":46,"./baseToString":21}],45:[function(t,n,r){function e(t){return o(t)&&i(t)&&u.call(t,"callee")&&!s.call(t,"callee")}var i=t("../internal/isArrayLike"),o=t("../internal/isObjectLike"),a=Object.prototype,u=a.hasOwnProperty,s=a.propertyIsEnumerable;n.exports=e},{"../internal/isArrayLike":34,"../internal/isObjectLike":39}],46:[function(t,n,r){var e=t("../internal/getNative"),i=t("../internal/isLength"),o=t("../internal/isObjectLike"),a=Object.prototype.toString,u=e(Array,"isArray")||function(t){return o(t)&&i(t.length)&&"[object Array]"==a.call(t)};n.exports=u},{"../internal/getNative":32,"../internal/isLength":38,"../internal/isObjectLike":39}],47:[function(t,n,r){function e(t){return i(t)&&a.call(t)==o}var i=t("./isObject"),o="[object Function]",a=Object.prototype.toString;n.exports=e},{"./isObject":49}],48:[function(t,n,r){function e(t){return null!=t&&(i(t)?f.test(s.call(t)):o(t)&&a.test(t))}var i=t("./isFunction"),o=t("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,u=Object.prototype,s=Function.prototype.toString,c=u.hasOwnProperty,f=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=e},{"../internal/isObjectLike":39,"./isFunction":47}],49:[function(t,n,r){function e(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=e},{}],50:[function(t,n,r){function e(t){return o(t)&&i(t.length)&&!!a[u.call(t)]}var i=t("../internal/isLength"),o=t("../internal/isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var u=Object.prototype.toString;n.exports=e},{"../internal/isLength":38,"../internal/isObjectLike":39}],51:[function(t,n,r){var e=t("../internal/getNative"),i=t("../internal/isArrayLike"),o=t("../lang/isObject"),a=t("../internal/shimKeys"),u=e(Object,"keys"),s=u?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&i(t)?a(t):o(t)?u(t):[]}:a;n.exports=s},{"../internal/getNative":32,"../internal/isArrayLike":34,"../internal/shimKeys":41,"../lang/isObject":49}],52:[function(t,n,r){function e(t){if(null==t)return[];s(t)||(t=Object(t));var n=t.length;n=n&&u(n)&&(o(t)||i(t))&&n||0;for(var r=t.constructor,e=-1,f="function"==typeof r&&r.prototype===t,l=Array(n),p=n>0;++e<n;)l[e]=e+"";for(var h in t)p&&a(h,n)||"constructor"==h&&(f||!c.call(t,h))||l.push(h);return l}var i=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("../internal/isIndex"),u=t("../internal/isLength"),s=t("../lang/isObject"),c=Object.prototype.hasOwnProperty;n.exports=e},{"../internal/isIndex":35,"../internal/isLength":38,"../lang/isArguments":45,"../lang/isArray":46,"../lang/isObject":49}],53:[function(t,n,r){function e(t){t=o(t);for(var n=-1,r=i(t),e=r.length,a=Array(e);++n<e;){var u=r[n];a[n]=[u,t[u]]}return a}var i=t("./keys"),o=t("../internal/toObject");n.exports=e},{"../internal/toObject":43,"./keys":51}],54:[function(t,n,r){function e(t){return t}n.exports=e},{}],55:[function(t,n,r){function e(t){return a(t)?i(t):o(t)}var i=t("../internal/baseProperty"),o=t("../internal/basePropertyDeep"),a=t("../internal/isKey");n.exports=e},{"../internal/baseProperty":18,"../internal/basePropertyDeep":19,"../internal/isKey":37}],56:[function(t,n,r){"use strict";n.exports=function(t){var n,r,e,i,o,a,u,s,c,f,l,p,h=function(t){var n=t.currentArgs,r=t.previousArgs;v(n)||(d(n),b(n)?(y(n),x(n)):g(r))},v=function(t){return!0===l[t]},d=function(t){l[t]=!0},b=function(t){var n=m(j,[t]);return m(o,[n,u])},y=function(t){f.push(t),e.apply(void 0,t)},g=function(t){p[t]=t,i.apply(void 0,t)},x=function(t){for(var n=0;n<s.length;n+=1){for(var r=s[n],e=t.slice(0),i=0;i<t.length;i+=1)e[i]+=r[i];c.push({currentArgs:e,previousArgs:t})}},j=function(t){return n.apply(void 0,t)},m=function(t,n){try{return t.apply(void 0,n)}catch(t){}},O=function(){},w=function(t,n){return t===n},A=function(){return k(r.length).filter(function(t){var n=_(t);return 0!==n&&(1===n||a)})},k=function(t){for(var n=[],r=0;r<Math.pow(3,t);r+=1){var e=L(r.toString(3),"0",t);n.push(function(t){return t.split("").map(function(t){return parseInt(t,10)-1})}(e))}return n},L=function(t,n,r){return(new Array(r+1).join(n)+t).slice(-r)},_=function(t){for(var n=0,r=0;r<t.length;r+=1)0!==t[r]&&(n+=1);return n},S=function(){var t=[];for(var n in p)p.hasOwnProperty(n)&&t.unshift(p[n]);return t};return function(){n=t.getter,r=t.seed,e=t.onFlood||O,i=t.onBoundary||O,o=t.equals||w,a=t.diagonals||!1,u=j(r),s=A(),c=[],f=[],l={},p={}}(),function(){for(c.push({currentArgs:r});c.length>0;)h(c.pop());return{flooded:f,boundaries:S()}}()}},{}],57:[function(t,n,r){"use strict";function e(t,n){var r=[];if((n=+n)<0||n>t.length)return[];if(0==n)return[[]];if(1==n)return t.map(function(t){return[t]});if(n==t.length-1){var o=function(){var n=void 0;for(n=0;n<t.length;++n)r.push(t.filter(function(t,r){return r!==n}));return{v:r}}();if("object"===(void 0===o?"undefined":i(o)))return o.v}var a=[].concat(t);if(n==t.length)return[a];for(;;){if(a.length===n){r.push(a);break}var u=[a.pop()],s=e(a,n-1),c=void 0;for(c=0;c<s.length;++c)r.push(s[c].concat(u))}return r}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.exports=e},{}],58:[function(t,n,r){"use strict";n.exports="function"==typeof Worker&&"function"==typeof Int32Array},{}],59:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t){return Math.round(1e6*t)/1e6}var o;o=performance&&performance.now?function(){return performance.now()}:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},n.exports=function(){function t(n){e(this,t),this.output=n}return t.prototype.start=function(){this.start_time=this.lap_time=o()},t.prototype.lap=function(t){var n=o();this.output(t+": "+i(n-this.lap_time)+" ms"),this.lap_time=n},t.prototype.finish=function(t){t&&this.lap(t),this.output("合計時間: "+i(this.lap_time-this.start_time)+" ms")},t}()},{}],60:[function(t,n,r){"use strict";n.exports=function(t,n,r){for(var e=[],i=0;i<n;++i){e.push([]);for(var o=0;o<t;++o)e[i].push(r)}return e}},{}],61:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t){var n=[],r=void 0===t?"undefined":o(t);if("string"===r)n=t.split(" ");else if("number"===r)n=[t];else{if("[object Array]"!==a.call(t))throw new TypeError;n=t.slice()}for(var e=0;e<n.length;++e){var i=+n[e];if(n[e]=i,(0|i)!==i)throw new RangeError("Only integers are accepted for constraints.")}n.sort(function(t,n){return 0===t&&0===n?0:0===t?1:0===n?-1:Math.abs(t)-Math.abs(n)});for(var u=0,s=0;s<n.length;++s)if(u<Math.abs(n[s])&&(u=Math.abs(n[s])),s<n.length-1&&0!==n[s]&&n[s]+n[s+1]===0)return{text:"",maxVar:0};for(;0===n[n.length-1];)n.pop();return n.push(0),{text:n.join(" "),maxVar:u}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.prototype.toString,u=function(){function t(){e(this,t),this.clear()}return t.prototype.clear=function(){this.textConstraints=[],this.maxVar=0},t.prototype.add=function(t){var n=i(t);return n.maxVar>0&&(this.textConstraints.push(n.text),this.maxVar<n.maxVar&&(this.maxVar=n.maxVar)),this},t.prototype.length=function(){return this.textConstraints.length},t.prototype.merge=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var e=0;e<n.length;++e){for(var i=0;i<n[e].textConstraints.length;++i)this.textConstraints.push(n[e].textConstraints[i]);this.maxVar<n[e].maxVar&&(this.maxVar=n[e].maxVar)}return this},t.prototype.toDIMACS=function(){return"p cnf "+this.maxVar+" "+this.textConstraints.length+"\n"+this.textConstraints.join("\n")},t.merge=function(){var n=new t;return n.merge.apply(n,arguments),n},t}();n.exports=u},{}],62:[function(t,n,r){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=t("./sat_constraints"),o=function(){function t(){e(this,t)}return t.prototype.loadWorker=function(){this.worker=new Worker("gen/minisat_worker.js")},t.prototype.setListener=function(t){this.worker||this.loadWorker(),this.listener&&this.worker.removeEventListener("message",this.listener,!0),this.listener=function(n){var r=n.data.result,e=null,i="ERROR";r&&(i=(e=r.split(" ")).shift(),e=e.map(function(t){return+t})),t(i,e,n.data.stdout,n.data.stderr)},this.worker.addEventListener("message",this.listener,!0)},t.prototype.solve=function(t,n){var r=t.toDIMACS();this.setListener(n),this.worker.postMessage(r)},t.prototype.solve_loop=function(t,n){var r=this;this.setListener(function(e,o,a,u){var s=n(t,e,o,a,u);if(!1!==s){if(s instanceof i)return t=s,void r.worker.postMessage(s.toDIMACS());throw new TypeError}}),this.worker.postMessage(t.toDIMACS())},t}();n.exports=o},{"./sat_constraints":61}],63:[function(t,n,r){"use strict";function e(t){return i.push(t),window.postMessage(o,"*"),null}var i=[],o="set_timeout_"+Math.random();window.addEventListener("message",function(t){t.source===window&&t.data===o&&(t.stopPropagation(),i.length>0&&i.shift()())},!0),n.exports=e},{}],64:[function(t,n,r){(function(n){"use strict";var r="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,e=t("./lib/environment_check"),i=t("./lib/lap_timer"),o=t("./lib/sat_constraints"),a=t("./lib/sat_solver"),u=t("lodash/array/uniq"),s=t("lodash/array/difference"),c=t("./lib/set_immediate"),f=t("./lib/combination"),l=t("./lib/make_matrix"),p=t("n-dimensional-flood-fill");r(function(){if(e){var t=new a,n=void 0,h=void 0,v=r("#field");r("#make_field_btn").click(function(){var t=void 0,e=void 0,i=void 0,o=void 0,a=parseInt(r("#width").val(),10),u=parseInt(r("#height").val(),10);if(a>=2&&u>=2)for(v.empty(),n=a,h=u,t=1;t<=h;++t){for(i=r("<tr />"),e=1;e<=n;++e)(o=r("<div />")).attr({id:"cell_"+e+"_"+t,class:"cell"}),i.append(o.wrap("<td />").parent());v.append(i)}else alert("2×2以上で設定してください。")}).click(),v.on("click",".cell",function(){var t=r(this),n=t.text();""===n?n="0":4===(n=+n+1)&&(n=""),t.text(n)}),v.on("contextmenu",".cell",function(t){t.preventDefault();var n=r(this),e=n.text();""===e?e="3":-1===(e-=1)&&(e=""),n.text(e)});var d=r("#indicator"),b=new i(function(t){return r("<p />").text(t).appendTo(d)});r("#solve_btn").click(function(){function e(t,r){return(n+2)*r+t+1}function i(t){var r=l(n+2,h+2,0),e=void 0,i=void 0,o=void 0,a=void 0;for(e=0,i=t.length;e<i;++e)t[e]<0||(a=Math.floor((t[e]-1)/(n+2)),o=t[e]-1-a*(n+2),r[a][o]=1);return r}function a(t){c(function(){var n=void 0,e=1;v.find("td").removeClass("inside border-top"),v.find("tr").each(function(){n=1,r(this).find("td").each(function(){t[e][n]&&this.classList.add("inside"),e>1&&t[e][n]!=t[e-1][n]&&this.classList.add("border-top"),++n}),++e})})}function d(t,r){function i(t){return p({getter:b,seed:t,onFlood:y}).flooded.map(function(t){return e(t[0],t[1])})}function o(t){for(var r=[],i=e(1,2),o=e(n,h-1),a=0,c=t.length;a<c;++a){var f=t[a];f>=i&&r.push(f-(n+2)),f<=o&&r.push(f+n+2),f%(n+2)!=2&&r.push(f-1),f%(n+2)!==n+1&&r.push(f+1)}return s(u(r),t)}var a=[],c=[],f=l(n+2,h+2,!1),v=1,d=1,b=function(n,r){return t[r][n]},y=function(t,n){return f[n][t]=!0},g=!1;for(a.push(i([0,0])),d=1;d<=h;++d)for(v=1;v<=n;++v)f[d][v]||(t[d][v]?c.push(i([v,d])):a.push(i([v,d])));return a.length>1&&(g=!0,a.shift(),a.forEach(function(t){var n=o(t);r.add(t.concat(n.map(function(t){return-t})))})),c.length>1&&(g=!0,c.forEach(function(t){var n=o(t);r.add(n.concat(t.map(function(t){return-t})))})),g}var y={},g=0;b.start();for(var x=new o,j=0;j<=h+1;++j)for(var m=0;m<=n+1;++m){(function(t){var i=e(t,j);if(!t||!j||t==n+1||j==h+1)return x.add(-i),"continue";var o=[e(t,j+1),e(t,j-1),e(t+1,j),e(t-1,j)];x.add(o.concat([-i])).add(o.map(function(t){return-t}).concat([i])),t>1&&j>1&&x.add([i,e(t-1,j-1),-e(t,j-1),-e(t-1,j)]).add([-i,-e(t-1,j-1),e(t,j-1),e(t-1,j)]);var a=r("#cell_"+t+"_"+j).text();""===a||("0"===a?x.add([i,-o[0]]).add([o[0],-o[1]]).add([o[1],-o[2]]).add([o[2],-o[3]]).add([o[3],-i]):(++g,y[i]=a,"1"===a?(f(o,2).forEach(function(t){x.add(t.concat([-i])).add([i,-t[0],-t[1]])}),x.add(o).add([-o[0],-o[1],-o[2],-o[3]])):"2"===a?f(o,3).forEach(function(t){x.add(t).add([-t[0],-t[1],-t[2]])}):"3"===a&&f(o,2).forEach(function(t){x.add(t.concat([i])).add([-i,-t[0],-t[1]])})))})(m)}b.lap("立式");var O=null;t.solve_loop(x,function(t,n,r){if(b.lap("ソルバー"),"SAT"!==n)return b.finish(),O?(alert("一意解です。"),a(O)):alert("解が見つかりませんでした。"),!1;var e=i(r);a(e);var o=d(e,t);return b.lap("ループチェック"),o?t:O?(b.finish(),alert("別解がありました。"),!1):(O=e,t.add(r.map(function(t){return-t})),t)})})}else alert("この環境ではJavaScriptの機能が不足していて、実行できません。")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/combination":57,"./lib/environment_check":58,"./lib/lap_timer":59,"./lib/make_matrix":60,"./lib/sat_constraints":61,"./lib/sat_solver":62,"./lib/set_immediate":63,"lodash/array/difference":1,"lodash/array/uniq":3,"n-dimensional-flood-fill":56}]},{},[64]);
