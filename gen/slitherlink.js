!function t(n,e,r){function o(i,s){if(!e[i]){if(!n[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=e[i]={exports:{}};n[i][0].call(f.exports,function(t){var e=n[i][1][t];return o(e||t)},f,f.exports,t,n,e,r)}return e[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,n,e){function r(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}var o=t("./_hashClear"),a=t("./_hashDelete"),i=t("./_hashGet"),s=t("./_hashHas"),u=t("./_hashSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,n.exports=r},{"./_hashClear":35,"./_hashDelete":36,"./_hashGet":37,"./_hashHas":38,"./_hashSet":39}],2:[function(t,n,e){function r(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}var o=t("./_listCacheClear"),a=t("./_listCacheDelete"),i=t("./_listCacheGet"),s=t("./_listCacheHas"),u=t("./_listCacheSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,n.exports=r},{"./_listCacheClear":43,"./_listCacheDelete":44,"./_listCacheGet":45,"./_listCacheHas":46,"./_listCacheSet":47}],3:[function(t,n,e){var r=t("./_getNative")(t("./_root"),"Map");n.exports=r},{"./_getNative":32,"./_root":56}],4:[function(t,n,e){function r(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}var o=t("./_mapCacheClear"),a=t("./_mapCacheDelete"),i=t("./_mapCacheGet"),s=t("./_mapCacheHas"),u=t("./_mapCacheSet");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=u,n.exports=r},{"./_mapCacheClear":48,"./_mapCacheDelete":49,"./_mapCacheGet":50,"./_mapCacheHas":51,"./_mapCacheSet":52}],5:[function(t,n,e){var r=t("./_getNative")(t("./_root"),"Set");n.exports=r},{"./_getNative":32,"./_root":56}],6:[function(t,n,e){function r(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new o;++n<e;)this.add(t[n])}var o=t("./_MapCache"),a=t("./_setCacheAdd"),i=t("./_setCacheHas");r.prototype.add=r.prototype.push=a,r.prototype.has=i,n.exports=r},{"./_MapCache":4,"./_setCacheAdd":57,"./_setCacheHas":58}],7:[function(t,n,e){var r=t("./_root").Symbol;n.exports=r},{"./_root":56}],8:[function(t,n,e){n.exports=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}},{}],9:[function(t,n,e){var r=t("./_baseIndexOf");n.exports=function(t,n){return!!(null==t?0:t.length)&&r(t,n,0)>-1}},{"./_baseIndexOf":18}],10:[function(t,n,e){n.exports=function(t,n,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(n,t[r]))return!0;return!1}},{}],11:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}},{}],12:[function(t,n,e){n.exports=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}},{}],13:[function(t,n,e){var r=t("./eq");n.exports=function(t,n){for(var e=t.length;e--;)if(r(t[e][0],n))return e;return-1}},{"./eq":66}],14:[function(t,n,e){var r=t("./_SetCache"),o=t("./_arrayIncludes"),a=t("./_arrayIncludesWith"),i=t("./_arrayMap"),s=t("./_baseUnary"),u=t("./_cacheHas"),c=200;n.exports=function(t,n,e,f){var l=-1,p=o,h=!0,_=t.length,d=[],v=n.length;if(!_)return d;e&&(n=i(n,s(e))),f?(p=a,h=!1):n.length>=c&&(p=u,h=!1,n=new r(n));t:for(;++l<_;){var y=t[l],g=null==e?y:e(y);if(y=f||0!==y?y:0,h&&g===g){for(var x=v;x--;)if(n[x]===g)continue t;d.push(y)}else p(n,g,f)||d.push(y)}return d}},{"./_SetCache":6,"./_arrayIncludes":9,"./_arrayIncludesWith":10,"./_arrayMap":11,"./_baseUnary":24,"./_cacheHas":26}],15:[function(t,n,e){n.exports=function(t,n,e,r){for(var o=t.length,a=e+(r?1:-1);r?a--:++a<o;)if(n(t[a],a,t))return a;return-1}},{}],16:[function(t,n,e){function r(t,n,e,i,s){var u=-1,c=t.length;for(e||(e=a),s||(s=[]);++u<c;){var f=t[u];n>0&&e(f)?n>1?r(f,n-1,e,i,s):o(s,f):i||(s[s.length]=f)}return s}var o=t("./_arrayPush"),a=t("./_isFlattenable");n.exports=r},{"./_arrayPush":12,"./_isFlattenable":40}],17:[function(t,n,e){var r=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),i="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;n.exports=function(t){return null==t?void 0===t?s:i:u&&u in Object(t)?o(t):a(t)}},{"./_Symbol":7,"./_getRawTag":33,"./_objectToString":54}],18:[function(t,n,e){var r=t("./_baseFindIndex"),o=t("./_baseIsNaN"),a=t("./_strictIndexOf");n.exports=function(t,n,e){return n===n?a(t,n,e):r(t,o,e)}},{"./_baseFindIndex":15,"./_baseIsNaN":20,"./_strictIndexOf":62}],19:[function(t,n,e){var r=t("./_baseGetTag"),o=t("./isObjectLike"),a="[object Arguments]";n.exports=function(t){return o(t)&&r(t)==a}},{"./_baseGetTag":17,"./isObjectLike":75}],20:[function(t,n,e){n.exports=function(t){return t!==t}},{}],21:[function(t,n,e){var r=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),i=t("./_toSource"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,l=c.toString,p=f.hasOwnProperty,h=RegExp("^"+l.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(t){return!(!a(t)||o(t))&&(r(t)?h:u).test(i(t))}},{"./_isMasked":42,"./_toSource":63,"./isFunction":72,"./isObject":74}],22:[function(t,n,e){var r=t("./identity"),o=t("./_overRest"),a=t("./_setToString");n.exports=function(t,n){return a(o(t,n,r),t+"")}},{"./_overRest":55,"./_setToString":60,"./identity":67}],23:[function(t,n,e){var r=t("./constant"),o=t("./_defineProperty"),a=t("./identity"),i=o?function(t,n){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(n),writable:!0})}:a;n.exports=i},{"./_defineProperty":29,"./constant":64,"./identity":67}],24:[function(t,n,e){n.exports=function(t){return function(n){return t(n)}}},{}],25:[function(t,n,e){var r=t("./_SetCache"),o=t("./_arrayIncludes"),a=t("./_arrayIncludesWith"),i=t("./_cacheHas"),s=t("./_createSet"),u=t("./_setToArray"),c=200;n.exports=function(t,n,e){var f=-1,l=o,p=t.length,h=!0,_=[],d=_;if(e)h=!1,l=a;else if(p>=c){var v=n?null:s(t);if(v)return u(v);h=!1,l=i,d=new r}else d=n?[]:_;t:for(;++f<p;){var y=t[f],g=n?n(y):y;if(y=e||0!==y?y:0,h&&g===g){for(var x=d.length;x--;)if(d[x]===g)continue t;n&&d.push(g),_.push(y)}else l(d,g,e)||(d!==_&&d.push(g),_.push(y))}return _}},{"./_SetCache":6,"./_arrayIncludes":9,"./_arrayIncludesWith":10,"./_cacheHas":26,"./_createSet":28,"./_setToArray":59}],26:[function(t,n,e){n.exports=function(t,n){return t.has(n)}},{}],27:[function(t,n,e){var r=t("./_root")["__core-js_shared__"];n.exports=r},{"./_root":56}],28:[function(t,n,e){var r=t("./_Set"),o=t("./noop"),a=t("./_setToArray"),i=r&&1/a(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;n.exports=i},{"./_Set":5,"./_setToArray":59,"./noop":76}],29:[function(t,n,e){var r=t("./_getNative"),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();n.exports=o},{"./_getNative":32}],30:[function(t,n,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(t,n,e){var r=t("./_isKeyable");n.exports=function(t,n){var e=t.__data__;return r(n)?e["string"==typeof n?"string":"hash"]:e.map}},{"./_isKeyable":41}],32:[function(t,n,e){var r=t("./_baseIsNative"),o=t("./_getValue");n.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},{"./_baseIsNative":21,"./_getValue":34}],33:[function(t,n,e){var r=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;n.exports=function(t){var n=a.call(t,s),e=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=i.call(t);return r&&(n?t[s]=e:delete t[s]),o}},{"./_Symbol":7}],34:[function(t,n,e){n.exports=function(t,n){return null==t?void 0:t[n]}},{}],35:[function(t,n,e){var r=t("./_nativeCreate");n.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":53}],36:[function(t,n,e){n.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},{}],37:[function(t,n,e){var r=t("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;n.exports=function(t){var n=this.__data__;if(r){var e=n[t];return e===o?void 0:e}return a.call(n,t)?n[t]:void 0}},{"./_nativeCreate":53}],38:[function(t,n,e){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;n.exports=function(t){var n=this.__data__;return r?void 0!==n[t]:o.call(n,t)}},{"./_nativeCreate":53}],39:[function(t,n,e){var r=t("./_nativeCreate"),o="__lodash_hash_undefined__";n.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=r&&void 0===n?o:n,this}},{"./_nativeCreate":53}],40:[function(t,n,e){var r=t("./_Symbol"),o=t("./isArguments"),a=t("./isArray"),i=r?r.isConcatSpreadable:void 0;n.exports=function(t){return a(t)||o(t)||!!(i&&t&&t[i])}},{"./_Symbol":7,"./isArguments":68,"./isArray":69}],41:[function(t,n,e){n.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},{}],42:[function(t,n,e){var r=t("./_coreJsData"),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();n.exports=function(t){return!!o&&o in t}},{"./_coreJsData":27}],43:[function(t,n,e){n.exports=function(){this.__data__=[],this.size=0}},{}],44:[function(t,n,e){var r=t("./_assocIndexOf"),o=Array.prototype.splice;n.exports=function(t){var n=this.__data__,e=r(n,t);return!(e<0||(e==n.length-1?n.pop():o.call(n,e,1),--this.size,0))}},{"./_assocIndexOf":13}],45:[function(t,n,e){var r=t("./_assocIndexOf");n.exports=function(t){var n=this.__data__,e=r(n,t);return e<0?void 0:n[e][1]}},{"./_assocIndexOf":13}],46:[function(t,n,e){var r=t("./_assocIndexOf");n.exports=function(t){return r(this.__data__,t)>-1}},{"./_assocIndexOf":13}],47:[function(t,n,e){var r=t("./_assocIndexOf");n.exports=function(t,n){var e=this.__data__,o=r(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this}},{"./_assocIndexOf":13}],48:[function(t,n,e){var r=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},{"./_Hash":1,"./_ListCache":2,"./_Map":3}],49:[function(t,n,e){var r=t("./_getMapData");n.exports=function(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}},{"./_getMapData":31}],50:[function(t,n,e){var r=t("./_getMapData");n.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":31}],51:[function(t,n,e){var r=t("./_getMapData");n.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":31}],52:[function(t,n,e){var r=t("./_getMapData");n.exports=function(t,n){var e=r(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this}},{"./_getMapData":31}],53:[function(t,n,e){var r=t("./_getNative")(Object,"create");n.exports=r},{"./_getNative":32}],54:[function(t,n,e){var r=Object.prototype.toString;n.exports=function(t){return r.call(t)}},{}],55:[function(t,n,e){var r=t("./_apply"),o=Math.max;n.exports=function(t,n,e){return n=o(void 0===n?t.length-1:n,0),function(){for(var a=arguments,i=-1,s=o(a.length-n,0),u=Array(s);++i<s;)u[i]=a[n+i];i=-1;for(var c=Array(n+1);++i<n;)c[i]=a[i];return c[n]=e(u),r(t,this,c)}}},{"./_apply":8}],56:[function(t,n,e){var r=t("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();n.exports=a},{"./_freeGlobal":30}],57:[function(t,n,e){var r="__lodash_hash_undefined__";n.exports=function(t){return this.__data__.set(t,r),this}},{}],58:[function(t,n,e){n.exports=function(t){return this.__data__.has(t)}},{}],59:[function(t,n,e){n.exports=function(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}},{}],60:[function(t,n,e){var r=t("./_baseSetToString"),o=t("./_shortOut")(r);n.exports=o},{"./_baseSetToString":23,"./_shortOut":61}],61:[function(t,n,e){var r=800,o=16,a=Date.now;n.exports=function(t){var n=0,e=0;return function(){var i=a(),s=o-(i-e);if(e=i,s>0){if(++n>=r)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},{}],62:[function(t,n,e){n.exports=function(t,n,e){for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}},{}],63:[function(t,n,e){var r=Function.prototype.toString;n.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],64:[function(t,n,e){n.exports=function(t){return function(){return t}}},{}],65:[function(t,n,e){var r=t("./_baseDifference"),o=t("./_baseFlatten"),a=t("./_baseRest"),i=t("./isArrayLikeObject"),s=a(function(t,n){return i(t)?r(t,o(n,1,i,!0)):[]});n.exports=s},{"./_baseDifference":14,"./_baseFlatten":16,"./_baseRest":22,"./isArrayLikeObject":71}],66:[function(t,n,e){n.exports=function(t,n){return t===n||t!==t&&n!==n}},{}],67:[function(t,n,e){n.exports=function(t){return t}},{}],68:[function(t,n,e){var r=t("./_baseIsArguments"),o=t("./isObjectLike"),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&i.call(t,"callee")&&!s.call(t,"callee")};n.exports=u},{"./_baseIsArguments":19,"./isObjectLike":75}],69:[function(t,n,e){var r=Array.isArray;n.exports=r},{}],70:[function(t,n,e){var r=t("./isFunction"),o=t("./isLength");n.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},{"./isFunction":72,"./isLength":73}],71:[function(t,n,e){var r=t("./isArrayLike"),o=t("./isObjectLike");n.exports=function(t){return o(t)&&r(t)}},{"./isArrayLike":70,"./isObjectLike":75}],72:[function(t,n,e){var r=t("./_baseGetTag"),o=t("./isObject"),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";n.exports=function(t){if(!o(t))return!1;var n=r(t);return n==i||n==s||n==a||n==u}},{"./_baseGetTag":17,"./isObject":74}],73:[function(t,n,e){var r=9007199254740991;n.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},{}],74:[function(t,n,e){n.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},{}],75:[function(t,n,e){n.exports=function(t){return null!=t&&"object"==typeof t}},{}],76:[function(t,n,e){n.exports=function(){}},{}],77:[function(t,n,e){var r=t("./_baseUniq");n.exports=function(t){return t&&t.length?r(t):[]}},{"./_baseUniq":25}],78:[function(t,n,e){"use strict";n.exports=function(t){var n,e,r,o,a,i,s,u,c,f,l,p,h=function(t){var n=t.currentArgs,e=t.previousArgs;_(n)||(d(n),v(n)?(y(n),x(n)):g(e))},_=function(t){return!0===l[t]},d=function(t){l[t]=!0},v=function(t){var n=m(b,[t]);return m(a,[n,s])},y=function(t){f.push(t),r.apply(void 0,t)},g=function(t){p[t]=t,o.apply(void 0,t)},x=function(t){for(var n=0;n<u.length;n+=1){for(var e=u[n],r=t.slice(0),o=0;o<t.length;o+=1)r[o]+=e[o];c.push({currentArgs:r,previousArgs:t})}},b=function(t){return n.apply(void 0,t)},m=function(t,n){try{return t.apply(void 0,n)}catch(t){}},w=function(){},C=function(t,n){return t===n},S=function(){return O(e.length).filter(function(t){var n=A(t);return 0!==n&&(1===n||i)})},O=function(t){for(var n=[],e=0;e<Math.pow(3,t);e+=1){var r=j(e.toString(3),"0",t);n.push(function(t){return t.split("").map(function(t){return parseInt(t,10)-1})}(r))}return n},j=function(t,n,e){return(new Array(e+1).join(n)+t).slice(-e)},A=function(t){for(var n=0,e=0;e<t.length;e+=1)0!==t[e]&&(n+=1);return n},I=function(){var t=[];for(var n in p)p.hasOwnProperty(n)&&t.unshift(p[n]);return t};return n=t.getter,e=t.seed,r=t.onFlood||w,o=t.onBoundary||w,a=t.equals||C,i=t.diagonals||!1,s=b(e),u=S(),c=[],f=[],l={},p={},function(){for(c.push({currentArgs:e});c.length>0;)h(c.pop());return{flooded:f,boundaries:I()}}()}},{}],79:[function(t,n,e){"use strict";function r(t,n){var e=[];if((n=+n)<0||n>t.length)return[];if(0==n)return[[]];if(1==n)return t.map(function(t){return[t]});if(n==t.length-1){var a=function(){var n=void 0;for(n=0;n<t.length;++n)e.push(t.filter(function(t,e){return e!==n}));return{v:e}}();if("object"===(void 0===a?"undefined":o(a)))return a.v}var i=[].concat(t);if(n==t.length)return[i];for(;;){if(i.length===n){e.push(i);break}var s=[i.pop()],u=r(i,n-1),c=void 0;for(c=0;c<u.length;++c)e.push(u[c].concat(s))}return e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.exports=r},{}],80:[function(t,n,e){"use strict";n.exports="function"==typeof Worker&&"function"==typeof Int32Array},{}],81:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t){return Math.round(1e6*t)/1e6}var a;a=performance&&performance.now?function(){return performance.now()}:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},n.exports=function(){function t(n){r(this,t),this.output=n}return t.prototype.start=function(){this.start_time=this.lap_time=a()},t.prototype.lap=function(t){var n=a();this.output(t+": "+o(n-this.lap_time)+" ms"),this.lap_time=n},t.prototype.finish=function(t){t&&this.lap(t),this.output("合計時間: "+o(this.lap_time-this.start_time)+" ms")},t}()},{}],82:[function(t,n,e){"use strict";n.exports=function(t,n,e){for(var r=[],o=0;o<n;++o){r.push([]);for(var a=0;a<t;++a)r[o].push(e)}return r}},{}],83:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t){var n=[],e=void 0===t?"undefined":a(t);if("string"===e)n=t.split(" ");else if("number"===e)n=[t];else{if("[object Array]"!==i.call(t))throw new TypeError;n=t.slice()}for(var r=0;r<n.length;++r){var o=+n[r];if(n[r]=o,(0|o)!==o)throw new RangeError("Only integers are accepted for constraints.")}n.sort(function(t,n){return 0===t&&0===n?0:0===t?1:0===n?-1:Math.abs(t)-Math.abs(n)});for(var s=0,u=0;u<n.length;++u)if(s<Math.abs(n[u])&&(s=Math.abs(n[u])),u<n.length-1&&0!==n[u]&&n[u]+n[u+1]===0)return{text:"",maxVar:0};for(;0===n[n.length-1];)n.pop();return n.push(0),{text:n.join(" "),maxVar:s}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.prototype.toString,s=function(){function t(){r(this,t),this.clear()}return t.prototype.clear=function(){this.textConstraints=[],this.maxVar=0},t.prototype.add=function(t){var n=o(t);return n.maxVar>0&&(this.textConstraints.push(n.text),this.maxVar<n.maxVar&&(this.maxVar=n.maxVar)),this},t.prototype.length=function(){return this.textConstraints.length},t.prototype.merge=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];for(var r=0;r<n.length;++r){for(var o=0;o<n[r].textConstraints.length;++o)this.textConstraints.push(n[r].textConstraints[o]);this.maxVar<n[r].maxVar&&(this.maxVar=n[r].maxVar)}return this},t.prototype.toDIMACS=function(){return"p cnf "+this.maxVar+" "+this.textConstraints.length+"\n"+this.textConstraints.join("\n")},t.merge=function(){var n=new t;return n.merge.apply(n,arguments),n},t}();n.exports=s},{}],84:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=t("./sat_constraints"),a=function(){function t(){r(this,t)}return t.prototype.loadWorker=function(){this.worker=new Worker("gen/minisat_worker.js")},t.prototype.setListener=function(t){this.worker||this.loadWorker(),this.listener&&this.worker.removeEventListener("message",this.listener,!0),this.listener=function(n){var e=n.data.result,r=null,o="ERROR";e&&(o=(r=e.split(" ")).shift(),r=r.map(function(t){return+t})),t(o,r,n.data.stdout,n.data.stderr)},this.worker.addEventListener("message",this.listener,!0)},t.prototype.solve=function(t,n){var e=t.toDIMACS();this.setListener(n),this.worker.postMessage(e)},t.prototype.solve_loop=function(t,n){var e=this;this.setListener(function(r,a,i,s){var u=n(t,r,a,i,s);if(!1!==u){if(u instanceof o)return t=u,void e.worker.postMessage(u.toDIMACS());throw new TypeError}}),this.worker.postMessage(t.toDIMACS())},t}();n.exports=a},{"./sat_constraints":83}],85:[function(t,n,e){"use strict";var r=[],o="set_timeout_"+Math.random();window.addEventListener("message",function(t){t.source===window&&t.data===o&&(t.stopPropagation(),r.length>0&&r.shift()())},!0),n.exports=function(t){return r.push(t),window.postMessage(o,"*"),null}},{}],86:[function(t,n,e){(function(n){"use strict";var e="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,r=t("./lib/environment_check"),o=t("./lib/lap_timer"),a=t("./lib/sat_constraints"),i=t("./lib/sat_solver"),s=t("lodash/uniq"),u=t("lodash/difference"),c=t("./lib/set_immediate"),f=t("./lib/combination"),l=t("./lib/make_matrix"),p=t("n-dimensional-flood-fill");e(function(){if(r){var t=new i,n=void 0,h=void 0,_=e("#field");e("#make_field_btn").click(function(){var t=void 0,r=void 0,o=void 0,a=void 0,i=parseInt(e("#width").val(),10),s=parseInt(e("#height").val(),10);if(i>=2&&s>=2)for(_.empty(),n=i,h=s,t=1;t<=h;++t){for(o=e("<tr />"),r=1;r<=n;++r)(a=e("<div />")).attr({id:"cell_"+r+"_"+t,class:"cell"}),o.append(a.wrap("<td />").parent());_.append(o)}else alert("2×2以上で設定してください。")}).click(),_.on("click",".cell",function(){var t=e(this),n=t.text();""===n?n="0":4===(n=+n+1)&&(n=""),t.text(n)}),_.on("contextmenu",".cell",function(t){t.preventDefault();var n=e(this),r=n.text();""===r?r="3":-1===(r-=1)&&(r=""),n.text(r)});var d=e("#indicator"),v=new o(function(t){return e("<p />").text(t).appendTo(d)});e("#solve_btn").click(function(){function r(t,e){return(n+2)*e+t+1}function o(t){var e=l(n+2,h+2,0),r=void 0,o=void 0,a=void 0,i=void 0;for(r=0,o=t.length;r<o;++r)t[r]<0||(i=Math.floor((t[r]-1)/(n+2)),a=t[r]-1-i*(n+2),e[i][a]=1);return e}function i(t){c(function(){var n=void 0,r=1;_.find("td").removeClass("inside border-top"),_.find("tr").each(function(){n=1,e(this).find("td").each(function(){t[r][n]&&this.classList.add("inside"),r>1&&t[r][n]!=t[r-1][n]&&this.classList.add("border-top"),++n}),++r})})}function d(t,e){function o(t){return p({getter:v,seed:t,onFlood:y}).flooded.map(function(t){return r(t[0],t[1])})}function a(t){for(var e=[],o=r(1,2),a=r(n,h-1),i=0,c=t.length;i<c;++i){var f=t[i];f>=o&&e.push(f-(n+2)),f<=a&&e.push(f+n+2),f%(n+2)!=2&&e.push(f-1),f%(n+2)!==n+1&&e.push(f+1)}return u(s(e),t)}var i=[],c=[],f=l(n+2,h+2,!1),_=1,d=1,v=function(n,e){return t[e][n]},y=function(t,n){return f[n][t]=!0},g=!1;for(i.push(o([0,0])),d=1;d<=h;++d)for(_=1;_<=n;++_)f[d][_]||(t[d][_]?c.push(o([_,d])):i.push(o([_,d])));return i.length>1&&(g=!0,i.shift(),i.forEach(function(t){var n=a(t);e.add(t.concat(n.map(function(t){return-t})))})),c.length>1&&(g=!0,c.forEach(function(t){var n=a(t);e.add(n.concat(t.map(function(t){return-t})))})),g}var y={},g=0;v.start();for(var x=new a,b=0;b<=h+1;++b)for(var m=0;m<=n+1;++m){(function(t){var o=r(t,b);if(!t||!b||t==n+1||b==h+1)return x.add(-o),"continue";var a=[r(t,b+1),r(t,b-1),r(t+1,b),r(t-1,b)];x.add(a.concat([-o])).add(a.map(function(t){return-t}).concat([o])),t>1&&b>1&&x.add([o,r(t-1,b-1),-r(t,b-1),-r(t-1,b)]).add([-o,-r(t-1,b-1),r(t,b-1),r(t-1,b)]);var i=e("#cell_"+t+"_"+b).text();""===i||("0"===i?x.add([o,-a[0]]).add([a[0],-a[1]]).add([a[1],-a[2]]).add([a[2],-a[3]]).add([a[3],-o]):(++g,y[o]=i,"1"===i?(f(a,2).forEach(function(t){x.add(t.concat([-o])).add([o,-t[0],-t[1]])}),x.add(a).add([-a[0],-a[1],-a[2],-a[3]])):"2"===i?f(a,3).forEach(function(t){x.add(t).add([-t[0],-t[1],-t[2]])}):"3"===i&&f(a,2).forEach(function(t){x.add(t.concat([o])).add([-o,-t[0],-t[1]])})))})(m)}v.lap("立式");var w=null;t.solve_loop(x,function(t,n,e){if(v.lap("ソルバー"),"SAT"!==n)return v.finish(),w?(alert("一意解です。"),i(w)):alert("解が見つかりませんでした。"),!1;var r=o(e);i(r);var a=d(r,t);return v.lap("ループチェック"),a?t:w?(v.finish(),alert("別解がありました。"),!1):(w=r,t.add(e.map(function(t){return-t})),t)})})}else alert("この環境ではJavaScriptの機能が不足していて、実行できません。")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/combination":79,"./lib/environment_check":80,"./lib/lap_timer":81,"./lib/make_matrix":82,"./lib/sat_constraints":83,"./lib/sat_solver":84,"./lib/set_immediate":85,"lodash/difference":65,"lodash/uniq":77,"n-dimensional-flood-fill":78}]},{},[86]);
