!function t(n,r,e){function i(a,u){if(!r[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};n[a][0].call(f.exports,function(t){var r=n[a][1][t];return i(r?r:t)},f,f.exports,t,n,r,e)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(t,n){var r=t("../internal/baseDifference"),e=t("../internal/baseFlatten"),i=t("../internal/isArrayLike"),o=t("../internal/isObjectLike"),a=t("../function/restParam"),u=a(function(t,n){return o(t)&&i(t)?r(t,e(n,!1,!0)):[]});n.exports=u},{"../function/restParam":4,"../internal/baseDifference":9,"../internal/baseFlatten":10,"../internal/isArrayLike":34,"../internal/isObjectLike":39}],2:[function(t,n){function r(t){var n=t?t.length:0;return n?t[n-1]:void 0}n.exports=r},{}],3:[function(t,n){function r(t,n,r,u){var s=t?t.length:0;return s?(null!=n&&"boolean"!=typeof n&&(u=r,r=o(t,n,u)?void 0:n,n=!1),r=null==r?r:e(r,u,3),n?a(t,r):i(t,r)):[]}var e=t("../internal/baseCallback"),i=t("../internal/baseUniq"),o=t("../internal/isIterateeCall"),a=t("../internal/sortedUniq");n.exports=r},{"../internal/baseCallback":8,"../internal/baseUniq":22,"../internal/isIterateeCall":36,"../internal/sortedUniq":42}],4:[function(t,n){function r(t,n){if("function"!=typeof t)throw new TypeError(e);return n=i(void 0===n?t.length-1:+n||0,0),function(){for(var r=arguments,e=-1,o=i(r.length-n,0),a=Array(o);++e<o;)a[e]=r[n+e];switch(n){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var u=Array(n+1);for(e=-1;++e<n;)u[e]=r[e];return u[n]=a,t.apply(this,u)}}var e="Expected a function",i=Math.max;n.exports=r},{}],5:[function(t,n){(function(r){function e(t){var n=t?t.length:0;for(this.data={hash:u(null),set:new a};n--;)this.push(t[n])}var i=t("./cachePush"),o=t("./getNative"),a=o(r,"Set"),u=o(Object,"create");e.prototype.push=i,n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cachePush":25,"./getNative":32}],6:[function(t,n){function r(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}n.exports=r},{}],7:[function(t,n){function r(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}n.exports=r},{}],8:[function(t,n){function r(t,n,r){var s=typeof t;return"function"==s?void 0===n?t:o(t,n,r):null==t?a:"object"==s?e(t):void 0===n?u(t):i(t,n)}var e=t("./baseMatches"),i=t("./baseMatchesProperty"),o=t("./bindCallback"),a=t("../utility/identity"),u=t("../utility/property");n.exports=r},{"../utility/identity":54,"../utility/property":55,"./baseMatches":16,"./baseMatchesProperty":17,"./bindCallback":23}],9:[function(t,n){function r(t,n){var r=t?t.length:0,u=[];if(!r)return u;var s=-1,c=e,f=!0,l=f&&n.length>=a?o(n):null,p=n.length;l&&(c=i,f=!1,n=l);t:for(;++s<r;){var h=t[s];if(f&&h===h){for(var v=p;v--;)if(n[v]===h)continue t;u.push(h)}else c(n,h,0)<0&&u.push(h)}return u}var e=t("./baseIndexOf"),i=t("./cacheIndexOf"),o=t("./createCache"),a=200;n.exports=r},{"./baseIndexOf":12,"./cacheIndexOf":24,"./createCache":26}],10:[function(t,n){function r(t,n,s,c){c||(c=[]);for(var f=-1,l=t.length;++f<l;){var p=t[f];u(p)&&a(p)&&(s||o(p)||i(p))?n?r(p,n,s,c):e(c,p):s||(c[c.length]=p)}return c}var e=t("./arrayPush"),i=t("../lang/isArguments"),o=t("../lang/isArray"),a=t("./isArrayLike"),u=t("./isObjectLike");n.exports=r},{"../lang/isArguments":45,"../lang/isArray":46,"./arrayPush":6,"./isArrayLike":34,"./isObjectLike":39}],11:[function(t,n){function r(t,n,r){if(null!=t){void 0!==r&&r in e(t)&&(n=[r]);for(var i=0,o=n.length;null!=t&&o>i;)t=t[n[i++]];return i&&i==o?t:void 0}}var e=t("./toObject");n.exports=r},{"./toObject":43}],12:[function(t,n){function r(t,n,r){if(n!==n)return e(t,r);for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}var e=t("./indexOfNaN");n.exports=r},{"./indexOfNaN":33}],13:[function(t,n){function r(t,n,a,u,s,c){return t===n?!0:null==t||null==n||!i(t)&&!o(n)?t!==t&&n!==n:e(t,n,r,a,u,s,c)}var e=t("./baseIsEqualDeep"),i=t("../lang/isObject"),o=t("./isObjectLike");n.exports=r},{"../lang/isObject":49,"./baseIsEqualDeep":14,"./isObjectLike":39}],14:[function(t,n){function r(t,n,r,l,v,d,y){var b=a(t),g=a(n),x=c,j=c;b||(x=h.call(t),x==s?x=f:x!=f&&(b=u(t))),g||(j=h.call(n),j==s?j=f:j!=f&&(g=u(n)));var m=x==f,O=j==f,w=x==j;if(w&&!b&&!m)return i(t,n,x);if(!v){var A=m&&p.call(t,"__wrapped__"),k=O&&p.call(n,"__wrapped__");if(A||k)return r(A?t.value():t,k?n.value():n,l,v,d,y)}if(!w)return!1;d||(d=[]),y||(y=[]);for(var L=d.length;L--;)if(d[L]==t)return y[L]==n;d.push(t),y.push(n);var _=(b?e:o)(t,n,r,l,v,d,y);return d.pop(),y.pop(),_}var e=t("./equalArrays"),i=t("./equalByTag"),o=t("./equalObjects"),a=t("../lang/isArray"),u=t("../lang/isTypedArray"),s="[object Arguments]",c="[object Array]",f="[object Object]",l=Object.prototype,p=l.hasOwnProperty,h=l.toString;n.exports=r},{"../lang/isArray":46,"../lang/isTypedArray":50,"./equalArrays":27,"./equalByTag":28,"./equalObjects":29}],15:[function(t,n){function r(t,n,r){var o=n.length,a=o,u=!r;if(null==t)return!a;for(t=i(t);o--;){var s=n[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){s=n[o];var c=s[0],f=t[c],l=s[1];if(u&&s[2]){if(void 0===f&&!(c in t))return!1}else{var p=r?r(f,l,c):void 0;if(!(void 0===p?e(l,f,r,!0):p))return!1}}return!0}var e=t("./baseIsEqual"),i=t("./toObject");n.exports=r},{"./baseIsEqual":13,"./toObject":43}],16:[function(t,n){function r(t){var n=i(t);if(1==n.length&&n[0][2]){var r=n[0][0],a=n[0][1];return function(t){return null==t?!1:t[r]===a&&(void 0!==a||r in o(t))}}return function(t){return e(t,n)}}var e=t("./baseIsMatch"),i=t("./getMatchData"),o=t("./toObject");n.exports=r},{"./baseIsMatch":15,"./getMatchData":31,"./toObject":43}],17:[function(t,n){function r(t,n){var r=a(t),p=u(t)&&s(n),h=t+"";return t=l(t),function(a){if(null==a)return!1;var u=h;if(a=f(a),!(!r&&p||u in a)){if(a=1==t.length?a:e(a,o(t,0,-1)),null==a)return!1;u=c(t),a=f(a)}return a[u]===n?void 0!==n||u in a:i(n,a[u],void 0,!0)}}var e=t("./baseGet"),i=t("./baseIsEqual"),o=t("./baseSlice"),a=t("../lang/isArray"),u=t("./isKey"),s=t("./isStrictComparable"),c=t("../array/last"),f=t("./toObject"),l=t("./toPath");n.exports=r},{"../array/last":2,"../lang/isArray":46,"./baseGet":11,"./baseIsEqual":13,"./baseSlice":20,"./isKey":37,"./isStrictComparable":40,"./toObject":43,"./toPath":44}],18:[function(t,n){function r(t){return function(n){return null==n?void 0:n[t]}}n.exports=r},{}],19:[function(t,n){function r(t){var n=t+"";return t=i(t),function(r){return e(r,t,n)}}var e=t("./baseGet"),i=t("./toPath");n.exports=r},{"./baseGet":11,"./toPath":44}],20:[function(t,n){function r(t,n,r){var e=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=void 0===r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++e<i;)o[e]=t[e+n];return o}n.exports=r},{}],21:[function(t,n){function r(t){return null==t?"":t+""}n.exports=r},{}],22:[function(t,n){function r(t,n){var r=-1,u=e,s=t.length,c=!0,f=c&&s>=a,l=f?o():null,p=[];l?(u=i,c=!1):(f=!1,l=n?[]:p);t:for(;++r<s;){var h=t[r],v=n?n(h,r,t):h;if(c&&h===h){for(var d=l.length;d--;)if(l[d]===v)continue t;n&&l.push(v),p.push(h)}else u(l,v,0)<0&&((n||f)&&l.push(v),p.push(h))}return p}var e=t("./baseIndexOf"),i=t("./cacheIndexOf"),o=t("./createCache"),a=200;n.exports=r},{"./baseIndexOf":12,"./cacheIndexOf":24,"./createCache":26}],23:[function(t,n){function r(t,n,r){if("function"!=typeof t)return e;if(void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,a){return t.call(n,r,e,i,o,a)}}return function(){return t.apply(n,arguments)}}var e=t("../utility/identity");n.exports=r},{"../utility/identity":54}],24:[function(t,n){function r(t,n){var r=t.data,i="string"==typeof n||e(n)?r.set.has(n):r.hash[n];return i?0:-1}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":49}],25:[function(t,n){function r(t){var n=this.data;"string"==typeof t||e(t)?n.set.add(t):n.hash[t]=!0}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":49}],26:[function(t,n){(function(r){function e(t){return u&&a?new i(t):null}var i=t("./SetCache"),o=t("./getNative"),a=o(r,"Set"),u=o(Object,"create");n.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./SetCache":5,"./getNative":32}],27:[function(t,n){function r(t,n,r,i,o,a,u){var s=-1,c=t.length,f=n.length;if(c!=f&&!(o&&f>c))return!1;for(;++s<c;){var l=t[s],p=n[s],h=i?i(o?p:l,o?l:p,s):void 0;if(void 0!==h){if(h)continue;return!1}if(o){if(!e(n,function(t){return l===t||r(l,t,i,o,a,u)}))return!1}else if(l!==p&&!r(l,p,i,o,a,u))return!1}return!0}var e=t("./arraySome");n.exports=r},{"./arraySome":7}],28:[function(t,n){function r(t,n,r){switch(r){case e:case i:return+t==+n;case o:return t.name==n.name&&t.message==n.message;case a:return t!=+t?n!=+n:t==+n;case u:case s:return t==n+""}return!1}var e="[object Boolean]",i="[object Date]",o="[object Error]",a="[object Number]",u="[object RegExp]",s="[object String]";n.exports=r},{}],29:[function(t,n){function r(t,n,r,i,a,u,s){var c=e(t),f=c.length,l=e(n),p=l.length;if(f!=p&&!a)return!1;for(var h=f;h--;){var v=c[h];if(!(a?v in n:o.call(n,v)))return!1}for(var d=a;++h<f;){v=c[h];var y=t[v],b=n[v],g=i?i(a?b:y,a?y:b,v):void 0;if(!(void 0===g?r(y,b,i,a,u,s):g))return!1;d||(d="constructor"==v)}if(!d){var x=t.constructor,j=n.constructor;if(x!=j&&"constructor"in t&&"constructor"in n&&!("function"==typeof x&&x instanceof x&&"function"==typeof j&&j instanceof j))return!1}return!0}var e=t("../object/keys"),i=Object.prototype,o=i.hasOwnProperty;n.exports=r},{"../object/keys":51}],30:[function(t,n){var r=t("./baseProperty"),e=r("length");n.exports=e},{"./baseProperty":18}],31:[function(t,n){function r(t){for(var n=i(t),r=n.length;r--;)n[r][2]=e(n[r][1]);return n}var e=t("./isStrictComparable"),i=t("../object/pairs");n.exports=r},{"../object/pairs":53,"./isStrictComparable":40}],32:[function(t,n){function r(t,n){var r=null==t?void 0:t[n];return e(r)?r:void 0}var e=t("../lang/isNative");n.exports=r},{"../lang/isNative":48}],33:[function(t,n){function r(t,n,r){for(var e=t.length,i=n+(r?0:-1);r?i--:++i<e;){var o=t[i];if(o!==o)return i}return-1}n.exports=r},{}],34:[function(t,n){function r(t){return null!=t&&i(e(t))}var e=t("./getLength"),i=t("./isLength");n.exports=r},{"./getLength":30,"./isLength":38}],35:[function(t,n){function r(t,n){return t="number"==typeof t||e.test(t)?+t:-1,n=null==n?i:n,t>-1&&t%1==0&&n>t}var e=/^\d+$/,i=9007199254740991;n.exports=r},{}],36:[function(t,n){function r(t,n,r){if(!o(r))return!1;var a=typeof n;if("number"==a?e(r)&&i(n,r.length):"string"==a&&n in r){var u=r[n];return t===t?t===u:u!==u}return!1}var e=t("./isArrayLike"),i=t("./isIndex"),o=t("../lang/isObject");n.exports=r},{"../lang/isObject":49,"./isArrayLike":34,"./isIndex":35}],37:[function(t,n){function r(t,n){var r=typeof t;if("string"==r&&a.test(t)||"number"==r)return!0;if(e(t))return!1;var u=!o.test(t);return u||null!=n&&t in i(n)}var e=t("../lang/isArray"),i=t("./toObject"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=r},{"../lang/isArray":46,"./toObject":43}],38:[function(t,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&e>=t}var e=9007199254740991;n.exports=r},{}],39:[function(t,n){function r(t){return!!t&&"object"==typeof t}n.exports=r},{}],40:[function(t,n){function r(t){return t===t&&!e(t)}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":49}],41:[function(t,n){function r(t){for(var n=u(t),r=n.length,s=r&&t.length,f=!!s&&a(s)&&(i(t)||e(t)),l=-1,p=[];++l<r;){var h=n[l];(f&&o(h,s)||c.call(t,h))&&p.push(h)}return p}var e=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("./isIndex"),a=t("./isLength"),u=t("../object/keysIn"),s=Object.prototype,c=s.hasOwnProperty;n.exports=r},{"../lang/isArguments":45,"../lang/isArray":46,"../object/keysIn":52,"./isIndex":35,"./isLength":38}],42:[function(t,n){function r(t,n){for(var r,e=-1,i=t.length,o=-1,a=[];++e<i;){var u=t[e],s=n?n(u,e,t):u;e&&r===s||(r=s,a[++o]=u)}return a}n.exports=r},{}],43:[function(t,n){function r(t){return e(t)?t:Object(t)}var e=t("../lang/isObject");n.exports=r},{"../lang/isObject":49}],44:[function(t,n){function r(t){if(i(t))return t;var n=[];return e(t).replace(o,function(t,r,e,i){n.push(e?i.replace(a,"$1"):r||t)}),n}var e=t("./baseToString"),i=t("../lang/isArray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;n.exports=r},{"../lang/isArray":46,"./baseToString":21}],45:[function(t,n){function r(t){return i(t)&&e(t)&&a.call(t,"callee")&&!u.call(t,"callee")}var e=t("../internal/isArrayLike"),i=t("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable;n.exports=r},{"../internal/isArrayLike":34,"../internal/isObjectLike":39}],46:[function(t,n){var r=t("../internal/getNative"),e=t("../internal/isLength"),i=t("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,u=a.toString,s=r(Array,"isArray"),c=s||function(t){return i(t)&&e(t.length)&&u.call(t)==o};n.exports=c},{"../internal/getNative":32,"../internal/isLength":38,"../internal/isObjectLike":39}],47:[function(t,n){function r(t){return e(t)&&a.call(t)==i}var e=t("./isObject"),i="[object Function]",o=Object.prototype,a=o.toString;n.exports=r},{"./isObject":49}],48:[function(t,n){function r(t){return null==t?!1:e(t)?c.test(u.call(t)):i(t)&&o.test(t)}var e=t("./isFunction"),i=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,a=Object.prototype,u=Function.prototype.toString,s=a.hasOwnProperty,c=RegExp("^"+u.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=r},{"../internal/isObjectLike":39,"./isFunction":47}],49:[function(t,n){function r(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=r},{}],50:[function(t,n){function r(t){return i(t)&&e(t.length)&&!!S[C.call(t)]}var e=t("../internal/isLength"),i=t("../internal/isObjectLike"),o="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",c="[object Error]",f="[object Function]",l="[object Map]",p="[object Number]",h="[object Object]",v="[object RegExp]",d="[object Set]",y="[object String]",b="[object WeakMap]",g="[object ArrayBuffer]",x="[object Float32Array]",j="[object Float64Array]",m="[object Int8Array]",O="[object Int16Array]",w="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",L="[object Uint16Array]",_="[object Uint32Array]",S={};S[x]=S[j]=S[m]=S[O]=S[w]=S[A]=S[k]=S[L]=S[_]=!0,S[o]=S[a]=S[g]=S[u]=S[s]=S[c]=S[f]=S[l]=S[p]=S[h]=S[v]=S[d]=S[y]=S[b]=!1;var I=Object.prototype,C=I.toString;n.exports=r},{"../internal/isLength":38,"../internal/isObjectLike":39}],51:[function(t,n){var r=t("../internal/getNative"),e=t("../internal/isArrayLike"),i=t("../lang/isObject"),o=t("../internal/shimKeys"),a=r(Object,"keys"),u=a?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&e(t)?o(t):i(t)?a(t):[]}:o;n.exports=u},{"../internal/getNative":32,"../internal/isArrayLike":34,"../internal/shimKeys":41,"../lang/isObject":49}],52:[function(t,n){function r(t){if(null==t)return[];u(t)||(t=Object(t));var n=t.length;n=n&&a(n)&&(i(t)||e(t))&&n||0;for(var r=t.constructor,s=-1,f="function"==typeof r&&r.prototype===t,l=Array(n),p=n>0;++s<n;)l[s]=s+"";for(var h in t)p&&o(h,n)||"constructor"==h&&(f||!c.call(t,h))||l.push(h);return l}var e=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("../internal/isIndex"),a=t("../internal/isLength"),u=t("../lang/isObject"),s=Object.prototype,c=s.hasOwnProperty;n.exports=r},{"../internal/isIndex":35,"../internal/isLength":38,"../lang/isArguments":45,"../lang/isArray":46,"../lang/isObject":49}],53:[function(t,n){function r(t){t=i(t);for(var n=-1,r=e(t),o=r.length,a=Array(o);++n<o;){var u=r[n];a[n]=[u,t[u]]}return a}var e=t("./keys"),i=t("../internal/toObject");n.exports=r},{"../internal/toObject":43,"./keys":51}],54:[function(t,n){function r(t){return t}n.exports=r},{}],55:[function(t,n){function r(t){return o(t)?e(t):i(t)}var e=t("../internal/baseProperty"),i=t("../internal/basePropertyDeep"),o=t("../internal/isKey");n.exports=r},{"../internal/baseProperty":18,"../internal/basePropertyDeep":19,"../internal/isKey":37}],56:[function(t,n){"use strict";n.exports=function(t){var n,r,e,i,o,a,u,s,c,f,l,p,h=function(){n=t.getter,r=t.seed,e=t.onFlood||A,i=t.onBoundary||A,o=t.equals||k,a=t.diagonals||!1,u=O(r),s=L(),c=[],f=[],l={},p={}},v=function(){for(c.push({currentArgs:r});c.length>0;)d(c.pop());return{flooded:f,boundaries:C()}},d=function(t){var n=t.currentArgs,r=t.previousArgs;y(n)||(b(n),g(n)?(x(n),m(n)):j(r))},y=function(t){return l[t]===!0},b=function(t){l[t]=!0},g=function(t){var n=w(O,[t]);return w(o,[n,u])},x=function(t){f.push(t),e.apply(void 0,t)},j=function(t){p[t]=t,i.apply(void 0,t)},m=function(t){for(var n=0;n<s.length;n+=1){for(var r=s[n],e=t.slice(0),i=0;i<t.length;i+=1)e[i]+=r[i];c.push({currentArgs:e,previousArgs:t})}},O=function(t){return n.apply(void 0,t)},w=function(t,n){try{return t.apply(void 0,n)}catch(r){}},A=function(){},k=function(t,n){return t===n},L=function(){var t=_(r.length);return t.filter(function(t){var n=I(t);return 0!==n&&(1===n||a)})},_=function(t){for(var n=[],r=function(t){return t.split("").map(function(t){return parseInt(t,10)-1})},e=0;e<Math.pow(3,t);e+=1){var i=S(e.toString(3),"0",t);n.push(r(i))}return n},S=function(t,n,r){var e=new Array(r+1),i=e.join(n);return(i+t).slice(-r)},I=function(t){for(var n=0,r=0;r<t.length;r+=1)0!==t[r]&&(n+=1);return n},C=function(){var t=[];for(var n in p)p.hasOwnProperty(n)&&t.unshift(p[n]);return t};return h(),v()}},{}],57:[function(t,n){"use strict";function r(t,n){var i=[];if(n=+n,0>n||n>t.length)return[];if(0==n)return[[]];if(1==n)return t.map(function(t){return[t]});if(n==t.length-1){var o=function(){var n=void 0;for(n=0;n<t.length;++n)i.push(t.filter(function(t,r){return r!==n}));return{v:i}}();if("object"===("undefined"==typeof o?"undefined":e(o)))return o.v}var a=[].concat(t);if(n==t.length)return[a];for(;;){if(a.length===n){i.push(a);break}var u=[a.pop()],s=r(a,n-1),c=void 0;for(c=0;c<s.length;++c)i.push(s[c].concat(u))}return i}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.exports=r},{}],58:[function(t,n){"use strict";n.exports="function"==typeof Worker&&"function"==typeof Int32Array},{}],59:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t){return Math.round(1e6*t)/1e6}var i;i=performance&&performance.now?function(){return performance.now()}:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},n.exports=function(){function t(n){r(this,t),this.output=n}return t.prototype.start=function(){this.start_time=this.lap_time=i()},t.prototype.lap=function(t){var n=i();this.output(t+": "+e(n-this.lap_time)+" ms"),this.lap_time=n},t.prototype.finish=function(t){t&&this.lap(t),this.output("合計時間: "+e(this.lap_time-this.start_time)+" ms")},t}()},{}],60:[function(t,n){"use strict";n.exports=function(t,n,r){for(var e=[],i=0;n>i;++i){e.push([]);for(var o=0;t>o;++o)e[i].push(r)}return e}},{}],61:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t){var n=[],r="undefined"==typeof t?"undefined":i(t);if("string"===r)n=t.split(" ");else if("number"===r)n=[t];else{if("[object Array]"!==o.call(t))throw new TypeError;n=t.slice()}for(var e=0;e<n.length;++e){var a=+n[e];if(n[e]=a,(0|a)!==a)throw new RangeError("Only integers are accepted for constraints.")}n.sort(function(t,n){return 0===t&&0===n?0:0===t?1:0===n?-1:Math.abs(t)-Math.abs(n)});for(var u=0,s=0;s<n.length;++s)if(u<Math.abs(n[s])&&(u=Math.abs(n[s])),s<n.length-1&&0!==n[s]&&n[s]+n[s+1]===0)return{text:"",maxVar:0};for(;0===n[n.length-1];)n.pop();return n.push(0),{text:n.join(" "),maxVar:u}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.prototype.toString,a=function(){function t(){r(this,t),this.clear()}return t.prototype.clear=function(){this.textConstraints=[],this.maxVar=0},t.prototype.add=function(t){var n=e(t);return n.maxVar>0&&(this.textConstraints.push(n.text),this.maxVar<n.maxVar&&(this.maxVar=n.maxVar)),this},t.prototype.length=function(){return this.textConstraints.length},t.prototype.merge=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];for(var e=0;e<n.length;++e){for(var i=0;i<n[e].textConstraints.length;++i)this.textConstraints.push(n[e].textConstraints[i]);this.maxVar<n[e].maxVar&&(this.maxVar=n[e].maxVar)}return this},t.prototype.toDIMACS=function(){return"p cnf "+this.maxVar+" "+this.textConstraints.length+"\n"+this.textConstraints.join("\n")},t.merge=function(){var n=new t;return n.merge.apply(n,arguments),n},t}();n.exports=a},{}],62:[function(t,n){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var e=t("./sat_constraints"),i=function(){function t(){r(this,t)}return t.prototype.loadWorker=function(){this.worker=new Worker("gen/minisat_worker.js")},t.prototype.setListener=function(t){this.worker||this.loadWorker(),this.listener&&this.worker.removeEventListener("message",this.listener,!0),this.listener=function(n){var r=n.data.result,e=null,i="ERROR";r&&(e=r.split(" "),i=e.shift(),e=e.map(function(t){return+t})),t(i,e,n.data.stdout,n.data.stderr)},this.worker.addEventListener("message",this.listener,!0)},t.prototype.solve=function(t,n){var r=t.toDIMACS();this.setListener(n),this.worker.postMessage(r)},t.prototype.solve_loop=function(t,n){var r=this;this.setListener(function(i,o,a,u){var s=n(t,i,o,a,u);if(s!==!1){if(s instanceof e)return t=s,void r.worker.postMessage(s.toDIMACS());throw new TypeError}}),this.worker.postMessage(t.toDIMACS())},t}();n.exports=i},{"./sat_constraints":61}],63:[function(t,n){"use strict";var r,e,i;i=[],r="set_timeout_"+Math.random(),e=function(t){return i.push(t),window.postMessage(r,"*"),null},window.addEventListener("message",function(t){t.source===window&&t.data===r&&(t.stopPropagation(),i.length>0&&i.shift()())},!0),n.exports=e},{}],64:[function(t){(function(n){"use strict";var r="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,e=t("./lib/environment_check"),i=t("./lib/lap_timer"),o=t("./lib/sat_constraints"),a=t("./lib/sat_solver"),u=t("lodash/array/uniq"),s=t("lodash/array/difference"),c=t("./lib/set_immediate"),f=t("./lib/combination"),l=t("./lib/make_matrix"),p=t("n-dimensional-flood-fill");r(function(){if(!e)return void alert("この環境ではJavaScriptの機能が不足していて、実行できません。");var t=new a,n=void 0,h=void 0,v=r("#field");r("#make_field_btn").click(function(){var t=void 0,e=void 0,i=void 0,o=void 0,a=parseInt(r("#width").val(),10),u=parseInt(r("#height").val(),10);if(!(a>=2&&u>=2))return void alert("2×2以上で設定してください。");for(v.empty(),n=a,h=u,t=1;h>=t;++t){for(i=r("<tr />"),e=1;n>=e;++e)o=r("<div />"),o.attr({id:"cell_"+e+"_"+t,"class":"cell"}),i.append(o.wrap("<td />").parent());v.append(i)}}).click(),v.on("click",".cell",function(){var t=r(this),n=t.text();""===n?n="0":(n=+n+1,4===n&&(n="")),t.text(n)}),v.on("contextmenu",".cell",function(t){t.preventDefault();var n=r(this),e=n.text();""===e?e="3":(e-=1,-1===e&&(e="")),n.text(e)});var d=r("#indicator"),y=new i(function(t){return r("<p />").text(t).appendTo(d)});r("#solve_btn").click(function(){function e(t,r){return(n+2)*r+t+1}function i(t){var r=l(n+2,h+2,0),e=void 0,i=void 0,o=void 0,a=void 0;for(e=0,i=t.length;i>e;++e)t[e]<0||(a=Math.floor((t[e]-1)/(n+2)),o=t[e]-1-a*(n+2),r[a][o]=1);return r}function a(t){c(function(){var n=void 0,e=1;v.find("td").removeClass("inside border-top"),v.find("tr").each(function(){n=1,r(this).find("td").each(function(){t[e][n]&&this.classList.add("inside"),e>1&&t[e][n]!=t[e-1][n]&&this.classList.add("border-top"),++n}),++e})})}function d(t,r){function i(t){return p({getter:y,seed:t,onFlood:b}).flooded.map(function(t){return e(t[0],t[1])})}function o(t){for(var r=[],i=e(1,2),o=e(n,h-1),a=0,c=t.length;c>a;++a){var f=t[a];f>=i&&r.push(f-(n+2)),o>=f&&r.push(f+n+2),f%(n+2)!==2&&r.push(f-1),f%(n+2)!==n+1&&r.push(f+1)}return s(u(r),t)}var a=[],c=[],f=l(n+2,h+2,!1),v=1,d=1,y=function(n,r){return t[r][n]},b=function(t,n){return f[n][t]=!0},g=!1;for(a.push(i([0,0])),d=1;h>=d;++d)for(v=1;n>=v;++v)f[d][v]||(t[d][v]?c.push(i([v,d])):a.push(i([v,d])));return a.length>1&&(g=!0,a.shift(),a.forEach(function(t){var n=o(t);r.add(t.concat(n.map(function(t){return-t})))})),c.length>1&&(g=!0,c.forEach(function(t){var n=o(t);r.add(n.concat(t.map(function(t){return-t})))})),g}var b={},g=0;y.start();for(var x=new o,j=0;h+1>=j;++j)for(var m=function(t){var i=e(t,j);if(!t||!j||t==n+1||j==h+1)return x.add(-i),"continue";var o=[e(t,j+1),e(t,j-1),e(t+1,j),e(t-1,j)];x.add(o.concat([-i])).add(o.map(function(t){return-t}).concat([i])),t>1&&j>1&&x.add([i,e(t-1,j-1),-e(t,j-1),-e(t-1,j)]).add([-i,-e(t-1,j-1),e(t,j-1),e(t-1,j)]);var a=r("#cell_"+t+"_"+j).text();return""===a?"continue":"0"===a?(x.add([i,-o[0]]).add([o[0],-o[1]]).add([o[1],-o[2]]).add([o[2],-o[3]]).add([o[3],-i]),"continue"):(++g,b[i]=a,void("1"===a?(f(o,2).forEach(function(t){x.add(t.concat([-i])).add([i,-t[0],-t[1]])}),x.add(o).add([-o[0],-o[1],-o[2],-o[3]])):"2"===a?f(o,3).forEach(function(t){x.add(t).add([-t[0],-t[1],-t[2]])}):"3"===a&&f(o,2).forEach(function(t){x.add(t.concat([i])).add([-i,-t[0],-t[1]])})))},O=0;n+1>=O;++O){{m(O)}}y.lap("立式");var w=null;t.solve_loop(x,function(t,n,r){if(y.lap("ソルバー"),"SAT"!==n)return y.finish(),w?(alert("一意解です。"),a(w)):alert("解が見つかりませんでした。"),!1;var e=i(r);a(e);var o=d(e,t);return y.lap("ループチェック"),o?t:w?(y.finish(),alert("別解がありました。"),!1):(w=e,t.add(r.map(function(t){return-t})),t)})})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/combination":57,"./lib/environment_check":58,"./lib/lap_timer":59,"./lib/make_matrix":60,"./lib/sat_constraints":61,"./lib/sat_solver":62,"./lib/set_immediate":63,"lodash/array/difference":1,"lodash/array/uniq":3,"n-dimensional-flood-fill":56}]},{},[64]);